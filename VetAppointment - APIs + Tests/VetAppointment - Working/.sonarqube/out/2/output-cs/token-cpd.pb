ö
òD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\AppointmentsOverview.razor.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
{ 
public 

partial 
class  
AppointmentsOverview -
:. /
ComponentBase0 =
{ 
[		 	
Inject			 
]		 
public

 #
IAppointmentDataService

 &"
AppointmentDataService

' =
{

> ?
get

@ C
;

C D
set

E H
;

H I
}

J K
public 
List 
< 
Appointment 
>  
Appointments! -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
=< =
default> E
!E F
;F G
	protected 
async 
override  
Task! %
OnInitializedAsync& 8
(8 9
)9 :
{ 	
Appointments 
= 
( 
await !"
AppointmentDataService" 8
.8 9
GetAllAppointments9 K
(K L
)L M
)M N
.N O
ToListO U
(U V
)V W
;W X
} 	
} 
} ëÑ
ìD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\ClinicsOverview.razor.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
{ 
public

 

partial

 
class

 
ClinicsOverview

 (
:

) *
ComponentBase

+ 8
{ 
[ 	
Inject	 
] 
public !
IVetClinicDataService $ 
VetClinicDataService% 9
{: ;
get< ?
;? @
setA D
;D E
}F G
[ 	
Inject	 
] 
public 

IJSRuntime 
	JSRuntime #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
List 
< 
	VetClinic 
> 
Clinics &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
default7 >
!> ?
;? @
public 
	VetClinic 
Clinic 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
default0 7
!7 8
;8 9
public 
	VetClinic 
ClinicToGet $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
default5 <
!< =
;= >
public 
ModelClinic 
ClinicToUpdate )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
=8 9
default: A
!A B
;B C
public 
ModelPetsInClinic  
	ModelPets! *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
=9 :
default; B
!B C
;C D
public 
Vet 
Vet 
{ 
get 
; 
set !
;! "
}# $
=% &
default' .
!. /
;/ 0
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
=' (
default) 0
!0 1
;1 2
public 
string 

IdToDelete  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
default1 8
!8 9
;9 :
public 
bool 

IsCreating 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
false/ 4
;4 5
public 
bool 

IsUpdating 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
false/ 4
;4 5
public 
bool 
IsRetrieving  
{! "
get# &
;& '
set( +
;+ ,
}- .
=/ 0
false1 6
;6 7
public 
bool 

IsDeleting 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
false/ 4
;4 5
public 
bool 
IsVetBeingAdded #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
false4 9
;9 :
public   
bool   
ArePetsBeingAdded   %
{  & '
get  ( +
;  + ,
set  - 0
;  0 1
}  2 3
=  4 5
false  6 ;
;  ; <
	protected"" 
async"" 
override""  
Task""! %
OnInitializedAsync""& 8
(""8 9
)""9 :
{## 	
Clinics$$ 
=$$ 
($$ 
await$$  
VetClinicDataService$$ 1
.$$1 2
GetAllClinics$$2 ?
($$? @
)$$@ A
)$$A B
.$$B C
ToList$$C I
($$I J
)$$J K
;$$K L
}%% 	
	protected'' 
async'' 
Task'' 
CreateClinic'' )
('') *
)''* +
{(( 	
if)) 
()) 
Clinic)) 
.)) 
Name)) 
!=)) 
null)) #
&&))$ &
Clinic))' -
.))- .
ContactEmail)). :
!=)); =
null))> B
&&))C E
Clinic))F L
.))L M
ContactPhone))M Y
!=))Z \
null))] a
&&** 
Clinic** 
.** 
Address** !
!=**" $
null**% )
&&*** ,
Clinic**- 3
.**3 4
NumberOfPlaces**4 B
!=**C E
$num**F G
)**G H
if++ 
(++ 

IsCreating++ 
)++ 
{,, 
Clinic-- 
=-- 
await-- " 
VetClinicDataService--# 7
.--7 8
	AddClinic--8 A
(--A B
Clinic--B H
)--H I
;--I J
}.. 
}// 	
	protected11 
async11 
Task11 
UpdateClinic11 )
(11) *
)11* +
{22 	
if33 
(33 

IsUpdating33 
)33 
{44 
await55  
VetClinicDataService55 *
.55* +
UpdateClinic55+ 7
(557 8
Guid558 <
.55< =
Parse55= B
(55B C
ClinicToUpdate55C Q
.55Q R
Id55R T
)55T U
,55U V
ClinicToUpdate55W e
)55e f
;55f g
}66 
}77 	
	protected99 
void99 
StartCreateClinic99 (
(99( )
)99) *
{:: 	

IsCreating;; 
=;; 
!;; 

IsCreating;; $
;;;$ %
if<< 
(<< 

IsCreating<< 
)<< 
{== 
Clinic>> 
=>> 
new>> 
(>> 
)>> 
;>> 
}?? 
else@@ 
{AA 
ClinicBB 
=BB 
defaultBB  
!BB  !
;BB! "
}CC 
}DD 	
	protectedFF 
voidFF 
StartUpdateClinicFF (
(FF( )
)FF) *
{GG 	

IsUpdatingHH 
=HH 
!HH 

IsUpdatingHH $
;HH$ %
ifII 
(II 

IsUpdatingII 
)II 
{JJ 
ClinicToUpdateKK 
=KK  
newKK! $
(KK$ %
)KK% &
;KK& '
}LL 
elseMM 
{NN 
ClinicToUpdateOO 
=OO  
defaultOO! (
!OO( )
;OO) *
}PP 
}QQ 	
	protectedSS 
asyncSS 
TaskSS 
AddVetToClinicSS +
(SS+ ,
)SS, -
{TT 	
ifUU 
(UU 
IsVetBeingAddedUU 
)UU  
{VV 
awaitWW  
VetClinicDataServiceWW *
.WW* +
AddVetToClinicWW+ 9
(WW9 :
GuidWW: >
.WW> ?
ParseWW? D
(WWD E
VetWWE H
.WWH I
ClinicIdWWI Q
)WWQ R
,WWR S
VetWWT W
)WWW X
;WWX Y
}XX 
}YY 	
	protected[[ 
void[[ 
StartAddVetToClinic[[ *
([[* +
)[[+ ,
{\\ 	
IsVetBeingAdded]] 
=]] 
!]] 
IsVetBeingAdded]] .
;]]. /
if^^ 
(^^ 
IsVetBeingAdded^^ 
)^^  
{__ 
Vet`` 
=`` 
new`` 
(`` 
)`` 
;`` 
}aa 
elsebb 
{cc 
Vetdd 
=dd 
defaultdd 
!dd 
;dd 
}ee 
}ff 	
	protectedhh 
asynchh 
Taskhh 
GetByIdhh $
(hh$ %
)hh% &
{ii 	
ifjj 
(jj 
IsRetrievingjj 
)jj 
{kk 
ClinicToGetll 
=ll 
awaitll # 
VetClinicDataServicell$ 8
.ll8 9
GetClinicByIdll9 F
(llF G
GuidllG K
.llK L
ParsellL Q
(llQ R
IdllR T
)llT U
)llU V
;llV W
}mm 
}nn 	
	protectedpp 
voidpp 

ShowCreatepp !
(pp! "
)pp" #
{qq 	
Clinicrr 
=rr 
newrr 
(rr 
)rr 
;rr 

IsCreatingss 
=ss 
truess 
;ss 
}tt 	
	protectedvv 
voidvv 
StartRetrievingvv &
(vv& '
)vv' (
{ww 	
IsRetrieving
ÅÅ 
=
ÅÅ 
true
ÅÅ 
;
ÅÅ  
Id
ÇÇ 
=
ÇÇ 
$str
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
	protected
ÖÖ 
async
ÖÖ 
Task
ÖÖ 
DeleteClinic
ÖÖ )
(
ÖÖ) *
)
ÖÖ* +
{
ÜÜ 	
if
áá 
(
áá 

IsDeleting
áá 
)
áá 
{
àà 
await
ââ "
VetClinicDataService
ââ *
.
ââ* +
DeleteClinicById
ââ+ ;
(
ââ; <
Guid
ââ< @
.
ââ@ A
Parse
ââA F
(
ââF G

IdToDelete
ââG Q
)
ââQ R
)
ââR S
;
ââS T
}
ää 
}
ãã 	
	protected
çç 
void
çç 
StartDeleteClinic
çç (
(
çç( )
)
çç) *
{
éé 	

IsDeleting
èè 
=
èè 
!
èè 

IsDeleting
èè $
;
èè$ %
if
êê 
(
êê 

IsDeleting
êê 
)
êê 
{
ëë 

IdToDelete
íí 
=
íí 
$str
íí 
;
íí  
}
ìì 
else
îî 
{
ïï 

IdToDelete
ññ 
=
ññ 
default
ññ $
!
ññ$ %
;
ññ% &
}
óó 
}
òò 	
	protected
öö 
async
öö 
Task
öö 
AddPetsToClinic
öö ,
(
öö, -
)
öö- .
{
õõ 	
if
úú 
(
úú 
ArePetsBeingAdded
úú !
)
úú! "
{
ùù 
for
ûû 
(
ûû 
int
ûû 
i
ûû 
=
ûû 
$num
ûû 
;
ûû 
i
ûû  !
<
ûû" #
$num
ûû$ &
;
ûû& '
i
ûû( )
++
ûû) +
)
ûû+ ,
Console
üü 
.
üü 
	WriteLine
üü %
(
üü% &
	ModelPets
üü& /
.
üü/ 0
Pets
üü0 4
[
üü4 5
i
üü5 6
]
üü6 7
.
üü7 8
Hidden
üü8 >
)
üü> ?
;
üü? @
var
°° 
pets
°° 
=
°° 
new
°° 
List
°° #
<
°°# $
Pet
°°$ '
>
°°' (
(
°°( )
)
°°) *
;
°°* +
for
¢¢ 
(
¢¢ 
int
¢¢ 
i
¢¢ 
=
¢¢ 
$num
¢¢ 
;
¢¢ 
i
¢¢  !
<
¢¢" #
	ModelPets
¢¢$ -
.
¢¢- .
Count
¢¢. 3
;
¢¢3 4
i
¢¢5 6
++
¢¢6 8
)
¢¢8 9
pets
££ 
.
££ 
Add
££ 
(
££ 
new
££  
Pet
££! $
(
££$ %
)
££% &
{
§§ 
Name
•• 
=
•• 
	ModelPets
•• (
.
••( )
Pets
••) -
[
••- .
i
••. /
]
••/ 0
.
••0 1
Name
••1 5
,
••5 6
	Birthdate
¶¶ !
=
¶¶" #
	ModelPets
¶¶$ -
.
¶¶- .
Pets
¶¶. 2
[
¶¶2 3
i
¶¶3 4
]
¶¶4 5
.
¶¶5 6
	Birthdate
¶¶6 ?
,
¶¶? @
Race
ßß 
=
ßß 
	ModelPets
ßß (
.
ßß( )
Pets
ßß) -
[
ßß- .
i
ßß. /
]
ßß/ 0
.
ßß0 1
Race
ßß1 5
,
ßß5 6
Gender
®® 
=
®®  
	ModelPets
®®! *
.
®®* +
Pets
®®+ /
[
®®/ 0
i
®®0 1
]
®®1 2
.
®®2 3
Gender
®®3 9
}
©© 
)
©© 
;
©© 
await
™™ "
VetClinicDataService
™™ *
.
™™* +
AddPetsToClinic
™™+ :
(
™™: ;
Guid
™™; ?
.
™™? @
Parse
™™@ E
(
™™E F
	ModelPets
™™F O
.
™™O P
ClinicId
™™P X
)
™™X Y
,
™™Y Z
pets
™™[ _
)
™™_ `
;
™™` a
}
´´ 
}
¨¨ 	
	protected
ÆÆ 
void
ÆÆ "
StartAddPetsToClinic
ÆÆ +
(
ÆÆ+ ,
)
ÆÆ, -
{
ØØ 	
ArePetsBeingAdded
∞∞ 
=
∞∞ 
!
∞∞  !
ArePetsBeingAdded
∞∞! 2
;
∞∞2 3
if
±± 
(
±± 
ArePetsBeingAdded
±± !
)
±±! "
{
≤≤ 
	ModelPets
≥≥ 
=
≥≥ 
new
≥≥ 
(
≥≥  
)
≥≥  !
{
¥¥ 
Pets
µµ 
=
µµ 
new
µµ 
List
µµ #
<
µµ# $
ModelPet
µµ$ ,
>
µµ, -
(
µµ- .
)
µµ. /
,
µµ/ 0
ClinicId
∂∂ 
=
∂∂ 
$str
∂∂ !
,
∂∂! "
Count
∑∑ 
=
∑∑ 
$num
∑∑ 
}
∏∏ 
;
∏∏ 
for
ππ 
(
ππ 
int
ππ 
i
ππ 
=
ππ 
$num
ππ 
;
ππ 
i
ππ  !
<
ππ" #
$num
ππ$ &
;
ππ& '
i
ππ( )
++
ππ) +
)
ππ+ ,
{
∫∫ 
	ModelPets
ªª 
.
ªª 
Pets
ªª "
.
ªª" #
Add
ªª# &
(
ªª& '
new
ªª' *
ModelPet
ªª+ 3
(
ªª3 4
)
ªª4 5
{
ªª6 7
Hidden
ªª8 >
=
ªª? @
true
ªªA E
}
ªªF G
)
ªªG H
;
ªªH I
}
ºº 
	ModelPets
ΩΩ 
.
ΩΩ 
Pets
ΩΩ 
[
ΩΩ 
$num
ΩΩ  
]
ΩΩ  !
.
ΩΩ! "
Hidden
ΩΩ" (
=
ΩΩ) *
false
ΩΩ+ 0
;
ΩΩ0 1
}
ææ 
else
øø 
{
¿¿ 
	ModelPets
¡¡ 
=
¡¡ 
default
¡¡ #
!
¡¡# $
;
¡¡$ %
}
¬¬ 
}
√√ 	
	protected
≈≈ 
async
≈≈ 
Task
≈≈ 
AddInputFields
≈≈ +
(
≈≈+ ,
)
≈≈, -
{
∆∆ 	
if
«« 
(
«« 
	ModelPets
«« 
.
«« 
Count
«« 
<
««  !
$num
««" $
)
««$ %
{
»» 
	ModelPets
…… 
.
…… 
Count
…… 
++
…… !
;
……! "
	ModelPets
   
.
   
Pets
   
[
   
	ModelPets
   (
.
  ( )
Count
  ) .
-
  / 0
$num
  1 2
]
  2 3
.
  3 4
Hidden
  4 :
=
  ; <
false
  = B
;
  B C
}
ÀÀ 
await
ÃÃ 
	JSRuntime
ÃÃ 
.
ÃÃ 
InvokeVoidAsync
ÃÃ +
(
ÃÃ+ ,
$str
ÃÃ, @
)
ÃÃ@ A
;
ÃÃA B
}
ÕÕ 	
	protected
œœ 
async
œœ 
Task
œœ 
RemoveInput
œœ (
(
œœ( )
)
œœ) *
{
–– 	
if
—— 
(
—— 
	ModelPets
—— 
.
—— 
Count
—— 
>
——  !
$num
——" #
)
——# $
{
““ 
	ModelPets
”” 
.
”” 
Pets
”” 
[
”” 
	ModelPets
”” (
.
””( )
Count
””) .
-
””/ 0
$num
””1 2
]
””2 3
=
””4 5
new
””6 9
ModelPet
””: B
(
””B C
)
””C D
{
””E F
Hidden
””G M
=
””N O
true
””P T
}
””U V
;
””V W
	ModelPets
‘‘ 
.
‘‘ 
Count
‘‘ 
--
‘‘ !
;
‘‘! "
}
’’ 
await
÷÷ 
	JSRuntime
÷÷ 
.
÷÷ 
InvokeVoidAsync
÷÷ +
(
÷÷+ ,
$str
÷÷, ?
)
÷÷? @
;
÷÷@ A
}
◊◊ 	
}
ÿÿ 
}ŸŸ »

êD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Models\ModelClinic.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Models" (
{ 
public 

class 
ModelClinic 
{ 
public 
string 
Id 
{ 
get 
; 
set  #
;# $
}% &
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
NumberOfPlaces !
{" #
get$ '
;' (
set) ,
;, -
}. /
public		 
string		 
ContactEmail		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
string

 
ContactPhone

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
} 
} ô	
çD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Models\ModelPet.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Models" (
{ 
public 

class 
ModelPet 
{ 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
	Birthdate 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Race 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Gender 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
bool		 
Hidden		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
}

 
} ≠	
ñD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Models\ModelPetsInClinic.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Models" (
{ 
public 

class 
ModelPetsInClinic "
{ 
[ 	
ValidateComplexType	 
] 
public 
List 
< 
ModelPet 
> 
Pets "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
default3 :
!: ;
;; <
public		 
string		 
ClinicId		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
default		/ 6
!		6 7
;		7 8
public

 
int

 
Count

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
=

' (
default

) 0
!

0 1
;

1 2
} 
} ö
ïD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\PetOwnersOverview.razor.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
{ 
public 

partial 
class 
PetOwnersOverview *
:+ ,
ComponentBase- :
{ 
[		 	
Inject			 
]		 
public

  
IPetOwnerDataService

 #
PetOwnerDataService

$ 7
{

8 9
get

: =
;

= >
set

? B
;

B C
}

D E
public 
List 
< 
PetOwner 
> 
	PetOwners '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
default8 ?
!? @
;@ A
	protected 
async 
override  
Task! %
OnInitializedAsync& 8
(8 9
)9 :
{ 	
	PetOwners 
= 
( 
await 
PetOwnerDataService 2
.2 3
GetAllPetOwners3 B
(B C
)C D
)D E
.E F
ToListF L
(L M
)M N
;N O
	PetOwners 
. 
ForEach 
( 
p 
=>  "
{# $
Console% ,
., -
	WriteLine- 6
(6 7
p7 8
.8 9
Id9 ;
+< =
$str> A
+B C
pD E
.E F
NameF J
)J K
;K L
}M N
)N O
;O P
} 	
} 
} “

êD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\PetsOverview.razor.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
{ 
public 

partial 
class 
PetsOverview %
:& '
ComponentBase( 5
{ 
[		 	
Inject			 
]		 
public

 
IPetDataService

 
PetDataService

 -
{

. /
get

0 3
;

3 4
set

5 8
;

8 9
}

: ;
public 
List 
< 
Pet 
> 
Pets 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
default. 5
!5 6
;6 7
	protected 
async 
override  
Task! %
OnInitializedAsync& 8
(8 9
)9 :
{ 	
Pets 
= 
( 
await 
PetDataService (
.( )

GetAllPets) 3
(3 4
)4 5
)5 6
.6 7
ToList7 =
(= >
)> ?
;? @
} 	
} 
} Ê
ùD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\AppointmentDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public 

class "
AppointmentDataService '
:( )#
IAppointmentDataService* A
{ 
private		 
const		 
string		 
ApiURL		 #
=		$ %
$str		& R
;		R S
private

 
readonly

 

HttpClient

 #

httpClient

$ .
;

. /
public "
AppointmentDataService %
(% &

HttpClient& 0

httpClient1 ;
); <
{ 	
this 
. 

httpClient 
= 

httpClient (
;( )
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Appointment& 1
>1 2
>2 3
GetAllAppointments4 F
(F G
)G H
{ 	
var 
options 
= 
new !
JsonSerializerOptions 3
(3 4
)4 5
{6 7'
PropertyNameCaseInsensitive8 S
=T U
trueV Z
}[ \
;\ ]
return 
await 
JsonSerializer '
.' (
DeserializeAsync( 8
<8 9
IEnumerable9 D
<D E
AppointmentE P
>P Q
>Q R
( 
await 

httpClient !
.! "
GetStreamAsync" 0
(0 1
ApiURL1 7
)7 8
,8 9
options: A
)A B
;B C
} 	
public 
async 
Task 
< 
Appointment %
>% &
AddAppointment' 5
(5 6
Appointment6 A
appointmentB M
)M N
{ 	
var 
options 
= 
new !
JsonSerializerOptions 3
(3 4
)4 5
{6 7'
PropertyNameCaseInsensitive8 S
=T U
trueV Z
}[ \
;\ ]
var 
json 
= 
JsonSerializer %
.% &
	Serialize& /
(/ 0
appointment0 ;
); <
;< =
var 
response 
= 
await  

httpClient! +
.+ ,
	PostAsync, 5
( 
ApiURL 
, 
new 
StringContent *
(* +
json+ /
,/ 0
UnicodeEncoding1 @
.@ A
UTF8A E
,E F
$strG Y
)Y Z
)Z [
;[ \
response 
. #
EnsureSuccessStatusCode ,
(, -
)- .
;. /
return 
await 
JsonSerializer '
.' (
DeserializeAsync( 8
<8 9
Appointment9 D
>D E
(E F
responseF N
.N O
ContentO V
.V W
ReadAsStreamW c
(c d
)d e
,e f
optionsg n
)n o
;o p
} 	
}   
}!! —
ûD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\IAppointmentDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public 

	interface #
IAppointmentDataService ,
{ 
Task 
< 
Appointment 
> 
AddAppointment (
(( )
Appointment) 4
appointment5 @
)@ A
;A B
Task 
< 
IEnumerable 
< 
Appointment $
>$ %
>% &
GetAllAppointments' 9
(9 :
): ;
;; <
}		 
}

 ë
ñD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\IPetDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public 

	interface 
IPetDataService $
{ 
Task 
< 
IEnumerable 
< 
Pet 
> 
> 

GetAllPets )
() *
)* +
;+ ,
Task		 
<		 
Pet		 
>		 
AddPet		 
(		 
Pet		 
pet		  
)		  !
;		! "
} 
} Å
õD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\IPetOwnerDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public 

	interface  
IPetOwnerDataService )
{ 
Task		 
<		 
IEnumerable		 
<		 
PetOwner		 !
>		! "
>		" #
GetAllPetOwners		$ 3
(		3 4
)		4 5
;		5 6
}

 
} ç
úD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\IVetClinicDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public 

	interface !
IVetClinicDataService *
{ 
Task 
< 
IEnumerable 
< 
	VetClinic "
>" #
># $
GetAllClinics% 2
(2 3
)3 4
;4 5
Task		 
<		 
	VetClinic		 
>		 
	AddClinic		 !
(		! "
	VetClinic		" +
clinic		, 2
)		2 3
;		3 4
Task

 
<

 
	VetClinic

 
>

 
GetClinicById

 %
(

% &
Guid

& *
id

+ -
)

- .
;

. /
Task 
< 
string 
> 
AddVetToClinic #
(# $
Guid$ (
clinicId) 1
,1 2
Vet3 6
vet7 :
): ;
;; <
Task 
< 
string 
> 
DeleteClinicById %
(% &
Guid& *
clinicId+ 3
)3 4
;4 5
Task 
< 
string 
> 
AddPetsToClinic $
($ %
Guid% )
clinicId* 2
,2 3
List4 8
<8 9
Pet9 <
>< =
pets> B
)B C
;C D
Task 
< 
string 
> 
UpdateClinic !
(! "
Guid" &
clinicId' /
,/ 0
ModelClinic1 <
clinic= C
)C D
;D E
} 
} ˛
ïD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\PetDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public		 

class		 
PetDataService		 
:		  !
IPetDataService		" 1
{

 
private 
const 
string 
ApiURL #
=$ %
$str& J
;J K
private 
readonly 

HttpClient #

httpClient$ .
;. /
public 
PetDataService 
( 

HttpClient (

httpClient) 3
)3 4
{ 	
this 
. 

httpClient 
= 

httpClient (
;( )
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Pet& )
>) *
>* +

GetAllPets, 6
(6 7
)7 8
{ 	
var 
options 
= 
new !
JsonSerializerOptions 3
(3 4
)4 5
{6 7'
PropertyNameCaseInsensitive8 S
=T U
trueV Z
}[ \
;\ ]
return 
await 
JsonSerializer '
.' (
DeserializeAsync( 8
<8 9
IEnumerable9 D
<D E
PetE H
>H I
>I J
( 
await 

httpClient !
.! "
GetStreamAsync" 0
(0 1
ApiURL1 7
)7 8
,8 9
options: A
)A B
;B C
} 	
public 
async 
Task 
< 
Pet 
> 
AddPet %
(% &
Pet& )
pet* -
)- .
{ 	
var 
options 
= 
new !
JsonSerializerOptions 3
(3 4
)4 5
{6 7'
PropertyNameCaseInsensitive8 S
=T U
trueV Z
}[ \
;\ ]
var 
json 
= 
JsonSerializer %
.% &
	Serialize& /
(/ 0
pet0 3
)3 4
;4 5
var 
response 
= 
await  

httpClient! +
.+ ,
	PostAsync, 5
( 
ApiURL 
, 
new 
StringContent *
(* +
json+ /
,/ 0
UnicodeEncoding1 @
.@ A
UTF8A E
,E F
$strG Y
)Y Z
)Z [
;[ \
response 
. #
EnsureSuccessStatusCode ,
(, -
)- .
;. /
return   
await   
JsonSerializer   '
.  ' (
DeserializeAsync  ( 8
<  8 9
Pet  9 <
>  < =
(  = >
response  > F
.  F G
Content  G N
.  N O
ReadAsStream  O [
(  [ \
)  \ ]
,  ] ^
options  _ f
)  f g
;  g h
}!! 	
}"" 
}## ó#
öD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\PetOwnerDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public 

class 
PetOwnerDataService $
:% & 
IPetOwnerDataService' ;
{		 
private

 
const

 
string

 
ApiURL

 #
=

$ %
$str

& O
;

O P
private 
readonly 

HttpClient #

httpClient$ .
;. /
public 
PetOwnerDataService "
(" #

HttpClient# -

httpClient. 8
)8 9
{ 	
this 
. 

httpClient 
= 

httpClient (
;( )
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
PetOwner& .
>. /
>/ 0
GetAllPetOwners1 @
(@ A
)A B
{ 	
return 
await 
JsonSerializer '
.' (
DeserializeAsync( 8
<8 9
IEnumerable9 D
<D E
PetOwnerE M
>M N
>N O
(O P
awaitP U

httpClientV `
.` a
GetStreamAsynca o
(o p
ApiURLp v
)v w
,w x
new !
JsonSerializerOptions )
() *
)* +
{, -'
PropertyNameCaseInsensitive. I
=J K
trueL P
}Q R
)R S
;S T
} 	
public 
async 
Task 
< 
PetOwner "
>" #
AddPetOwner$ /
(/ 0
PetOwner0 8
petOwner9 A
)A B
{ 	
var 
options 
= 
new !
JsonSerializerOptions 3
(3 4
)4 5
{6 7'
PropertyNameCaseInsensitive8 S
=T U
trueV Z
}[ \
;\ ]
var 
json 
= 
JsonSerializer %
.% &
	Serialize& /
(/ 0
petOwner0 8
)8 9
;9 :
var 
response 
= 
await  

httpClient! +
.+ ,
	PostAsync, 5
( 
ApiURL 
, 
new 
StringContent *
(* +
json+ /
,/ 0
UnicodeEncoding1 @
.@ A
UTF8A E
,E F
$strG Y
)Y Z
)Z [
;[ \
response 
. #
EnsureSuccessStatusCode ,
(, -
)- .
;. /
return 
await 
JsonSerializer '
.' (
DeserializeAsync( 8
<8 9
PetOwner9 A
>A B
(B C
responseC K
.K L
ContentL S
.S T
ReadAsStreamT `
(` a
)a b
,b c
optionsd k
)k l
;l m
} 	
public!! 
async!! 
Task!! 
<!! 
PetOwner!! "
>!!" #
AddPetsToPetOwner!!$ 5
(!!5 6
Guid!!6 :

petOwnerId!!; E
,!!E F
List!!G K
<!!K L
Pet!!L O
>!!O P
pets!!Q U
)!!U V
{"" 	
var## 
ApiURLPetOwner## 
=##  
$"##! #
{### $
ApiURL##$ *
}##* +
$str##+ ,
{##, -

petOwnerId##- 7
}##7 8
$str##8 =
"##= >
;##> ?
var$$ 
response$$ 
=$$ 
await$$  

httpClient$$! +
.$$+ ,
PostAsJsonAsync$$, ;
($$; <
ApiURLPetOwner$$< J
,$$J K
pets$$L P
)$$P Q
;$$Q R
return%% 
await%% 
response%% !
.%%! "
Content%%" )
.%%) *
ReadFromJsonAsync%%* ;
<%%; <
PetOwner%%< D
>%%D E
(%%E F
)%%F G
;%%G H
}&& 	
}'' 
}(( ÛU
õD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Services\VetClinicDataService.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "
Services" *
{ 
public		 

class		  
VetClinicDataService		 %
:		& '!
IVetClinicDataService		( =
{

 
private 
const 
string 
ApiURL #
=$ %
$str& P
;P Q
private 
readonly 

HttpClient #

httpClient$ .
;. /
public  
VetClinicDataService #
(# $

HttpClient$ .

httpClient/ 9
)9 :
{ 	
this 
. 

httpClient 
= 

httpClient (
;( )
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
	VetClinic& /
>/ 0
>0 1
GetAllClinics2 ?
(? @
)@ A
{ 	
return 
await 
JsonSerializer '
.' (
DeserializeAsync( 8
<8 9
IEnumerable9 D
<D E
	VetClinicE N
>N O
>O P
(P Q
await 

httpClient  
.  !
GetStreamAsync! /
(/ 0
ApiURL0 6
)6 7
,7 8
new !
JsonSerializerOptions )
() *
)* +
{ '
PropertyNameCaseInsensitive -
=. /
true0 4
}5 6
)6 7
;7 8
} 	
public 
async 
Task 
< 
	VetClinic #
># $
	AddClinic% .
(. /
	VetClinic/ 8
clinic9 ?
)? @
{ 	
var 
options 
= 
new !
JsonSerializerOptions 3
(3 4
)4 5
{6 7'
PropertyNameCaseInsensitive8 S
=T U
trueV Z
}[ \
;\ ]
var 
json 
= 
JsonSerializer %
.% &
	Serialize& /
(/ 0
clinic0 6
)6 7
;7 8
var 
response 
= 
await  

httpClient! +
.+ ,
	PostAsync, 5
(   
ApiURL   
,   
new    
StringContent  ! .
(  . /
json  / 3
,  3 4
UnicodeEncoding  5 D
.  D E
UTF8  E I
,  I J
$str  K ]
)  ] ^
)  ^ _
;  _ `
response!! 
.!! #
EnsureSuccessStatusCode!! ,
(!!, -
)!!- .
;!!. /
return"" 
await"" 
JsonSerializer"" '
.""' (
DeserializeAsync""( 8
<""8 9
	VetClinic""9 B
>""B C
(""C D
response""D L
.""L M
Content""M T
.""T U
ReadAsStream""U a
(""a b
)""b c
,""c d
options""e l
)""l m
;""m n
}## 	
public%% 
async%% 
Task%% 
<%% 
string%%  
>%%  !
AddVetToClinic%%" 0
(%%0 1
Guid%%1 5
clinicId%%6 >
,%%> ?
Vet%%@ C
vet%%D G
)%%G H
{&& 	
var'' 
ApiURLClinic'' 
='' 
$"'' !
{''! "
ApiURL''" (
}''( )
$str'') ,
{'', -
clinicId''- 5
}''5 6
$str''6 <
"''< =
;''= >
var(( 
options(( 
=(( 
new(( !
JsonSerializerOptions(( 3
(((3 4
)((4 5
{((6 7'
PropertyNameCaseInsensitive((8 S
=((T U
true((V Z
}(([ \
;((\ ]
var)) 
json)) 
=)) 
JsonSerializer)) %
.))% &
	Serialize))& /
())/ 0
vet))0 3
)))3 4
;))4 5
var** 
response** 
=** 
await**  

httpClient**! +
.**+ ,
	PostAsync**, 5
(++ 
ApiURLClinic++ !
,++! "
new++# &
StringContent++' 4
(++4 5
json++5 9
,++9 :
UnicodeEncoding++; J
.++J K
UTF8++K O
,++O P
$str++Q c
)++c d
)++d e
;++e f
response,, 
.,, #
EnsureSuccessStatusCode,, ,
(,,, -
),,- .
;,,. /
return-- 
response-- 
.-- 
Content-- #
.--# $
ToString--$ ,
(--, -
)--- .
;--. /
}.. 	
public00 
async00 
Task00 
<00 
	VetClinic00 #
>00# $
GetClinicById00% 2
(002 3
Guid003 7
id008 :
)00: ;
{11 	
return22 
await22 
JsonSerializer22 '
.22' (
DeserializeAsync22( 8
<228 9
	VetClinic229 B
>22B C
(22C D
await33 

httpClient33  
.33  !
GetStreamAsync33! /
(33/ 0
ApiURL330 6
+337 8
$str339 <
+33= >
id33? A
)33A B
,33B C
new44 !
JsonSerializerOptions44 )
(44) *
)44* +
{55 '
PropertyNameCaseInsensitive55 -
=55. /
true550 4
}555 6
)556 7
;557 8
}66 	
public88 
async88 
Task88 
<88 
string88  
>88  !
UpdateClinic88" .
(88. /
Guid88/ 3
clinicId884 <
,88< =
ModelClinic88> I
clinic88J P
)88P Q
{99 	
var:: 
ApiURLClinic:: 
=:: 
$":: !
{::! "
ApiURL::" (
}::( )
$str::) ,
{::, -
clinicId::- 5
}::5 6
$str::6 8
"::8 9
;::9 :
var;; 
options;; 
=;; 
new;; !
JsonSerializerOptions;; 3
(;;3 4
);;4 5
{;;6 7'
PropertyNameCaseInsensitive;;8 S
=;;T U
true;;V Z
};;[ \
;;;\ ]
var<< 
	vetClinic<< 
=<< 
new<< 
	VetClinic<<  )
(<<) *
)<<* +
{== 
Name>> 
=>> 
clinic>> 
.>> 
Name>> "
,>>" #
Address?? 
=?? 
clinic??  
.??  !
Address??! (
,??( )
ContactPhone@@ 
=@@ 
clinic@@ %
.@@% &
ContactPhone@@& 2
,@@2 3
ContactEmailAA 
=AA 
clinicAA %
.AA% &
ContactEmailAA& 2
,AA2 3
NumberOfPlacesBB 
=BB  
clinicBB! '
.BB' (
NumberOfPlacesBB( 6
}CC 
;CC 
varDD 
jsonDD 
=DD 
JsonSerializerDD %
.DD% &
	SerializeDD& /
(DD/ 0
	vetClinicDD0 9
)DD9 :
;DD: ;
varEE 
responseEE 
=EE 
awaitEE  

httpClientEE! +
.EE+ ,
PutAsyncEE, 4
(FF 
ApiURLClinicFF !
,FF! "
newFF# &
StringContentFF' 4
(FF4 5
jsonFF5 9
,FF9 :
UnicodeEncodingFF; J
.FFJ K
UTF8FFK O
,FFO P
$strFFQ c
)FFc d
)FFd e
;FFe f
responseGG 
.GG #
EnsureSuccessStatusCodeGG ,
(GG, -
)GG- .
;GG. /
returnHH 
responseHH 
.HH 
ContentHH #
.HH# $
ToStringHH$ ,
(HH, -
)HH- .
;HH. /
}II 	
publicKK 
asyncKK 
TaskKK 
<KK 
stringKK  
>KK  !
DeleteClinicByIdKK" 2
(KK2 3
GuidKK3 7
clinicIdKK8 @
)KK@ A
{LL 	
varMM 
ApiURLClinicMM 
=MM 
$"MM !
{MM! "
ApiURLMM" (
}MM( )
$strMM) ,
{MM, -
clinicIdMM- 5
}MM5 6
$strMM6 8
"MM8 9
;MM9 :
varNN 
responseNN 
=NN 
awaitNN  

httpClientNN! +
.NN+ ,
DeleteAsyncNN, 7
(NN7 8
ApiURLClinicNN8 D
)NND E
;NNE F
responseOO 
.OO #
EnsureSuccessStatusCodeOO ,
(OO, -
)OO- .
;OO. /
returnPP 
responsePP 
.PP 
ContentPP #
.PP# $
ToStringPP$ ,
(PP, -
)PP- .
;PP. /
}QQ 	
publicSS 
asyncSS 
TaskSS 
<SS 
stringSS  
>SS  !
AddPetsToClinicSS" 1
(SS1 2
GuidSS2 6
clinicIdSS7 ?
,SS? @
ListSSA E
<SSE F
PetSSF I
>SSI J
petsSSK O
)SSO P
{TT 	
varUU 
ApiURLClinicUU 
=UU 
$"UU !
{UU! "
ApiURLUU" (
}UU( )
$strUU) ,
{UU, -
clinicIdUU- 5
}UU5 6
$strUU6 =
"UU= >
;UU> ?
varVV 
optionsVV 
=VV 
newVV !
JsonSerializerOptionsVV 3
(VV3 4
)VV4 5
{VV6 7'
PropertyNameCaseInsensitiveVV8 S
=VVT U
trueVVV Z
}VV[ \
;VV\ ]
varWW 
jsonWW 
=WW 
JsonSerializerWW %
.WW% &
	SerializeWW& /
(WW/ 0
petsWW0 4
)WW4 5
;WW5 6
varXX 
responseXX 
=XX 
awaitXX  

httpClientXX! +
.XX+ ,
	PostAsyncXX, 5
(XX5 6
ApiURLClinicXX6 B
,XXB C
newYY 
StringContentYY !
(YY! "
jsonYY" &
,YY& '
EncodingYY( 0
.YY0 1
UTF8YY1 5
,YY5 6
$strYY7 I
)YYI J
)YYJ K
;YYK L
responseZZ 
.ZZ #
EnsureSuccessStatusCodeZZ ,
(ZZ, -
)ZZ- .
;ZZ. /
return[[ 
response[[ 
.[[ 
Content[[ #
.[[# $
ToString[[$ ,
([[, -
)[[- .
;[[. /
}\\ 	
}^^ 
}__ ˇ	
öD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Validators\ModelPetValidator.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "

Validators" ,
{ 
public 

class 
ModelPetValidator "
:# $
AbstractValidator% 6
<6 7
ModelPetsInClinic7 H
>H I
{ 
public 
ModelPetValidator  
(  !
)! "
{		 	
RuleForEach

 
(

 
modelPet

  
=>

! #
modelPet

$ ,
.

, -
Pets

- 1
)

1 2
.

2 3
SetValidator

3 ?
(

? @
new

@ C
PetValidator

D P
(

P Q
)

Q R
)

R S
;

S T
RuleFor 
( 
modelPet 
=> 
modelPet  (
.( )
ClinicId) 1
)1 2
.2 3
NotEmpty3 ;
(; <
)< =
.= >
WithMessage> I
(I J
$strJ f
)f g
;g h
} 	
} 
} Á
ïD:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Pages\Validators\PetValidator.cs
	namespace 	
VetAppointment
 
. 
UI 
. 
Pages !
.! "

Validators" ,
{ 
public 

class 
PetValidator 
: 
AbstractValidator  1
<1 2
ModelPet2 :
>: ;
{ 
public 
PetValidator 
( 
) 
{		 	
RuleFor

 
(

 
pet

 
=>

 
pet

 
.

 
Name

 #
)

# $
.

$ %
NotEmpty

% -
(

- .
)

. /
.

/ 0
When

0 4
(

4 5
pet

5 8
=>

9 ;
!

< =
pet

= @
.

@ A
Hidden

A G
)

G H
.

H I
WithMessage

I T
(

T U
$str

U l
)

l m
;

m n
RuleFor 
( 
pet 
=> 
pet 
. 
	Birthdate (
)( )
.) *
NotEmpty* 2
(2 3
)3 4
.4 5
When5 9
(9 :
pet: =
=>> @
!A B
petB E
.E F
HiddenF L
)L M
.M N
WithMessageN Y
(Y Z
$strZ v
)v w
;w x
;y z
RuleFor 
( 
pet 
=> 
pet 
. 
Race #
)# $
.$ %
NotEmpty% -
(- .
). /
./ 0
When0 4
(4 5
pet5 8
=>9 ;
!< =
pet= @
.@ A
HiddenA G
)G H
.H I
WithMessageI T
(T U
$strU l
)l m
;m n
;o p
RuleFor 
( 
pet 
=> 
pet 
. 
Gender %
)% &
.& '
NotEmpty' /
(/ 0
)0 1
.1 2
When2 6
(6 7
pet7 :
=>; =
!> ?
pet? B
.B C
HiddenC I
)I J
.J K
WithMessageK V
(V W
$strW p
)p q
;q r
} 	
} 
} µ
D:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.UI\Program.cs
var 
builder 
= "
WebAssemblyHostBuilder $
.$ %
CreateDefault% 2
(2 3
args3 7
)7 8
;8 9
builder 
. 
RootComponents 
. 
Add 
< 
App 
> 
(  
$str  &
)& '
;' (
builder 
. 
RootComponents 
. 
Add 
< 

HeadOutlet %
>% &
(& '
$str' 4
)4 5
;5 6
builder

 
.

 
Services

 
.

 
AddHttpClient

 
<

 
IPetDataService

 .
,

. /
PetDataService

0 >
>

> ?
( 
client 
=> 
client 
. 
BaseAddress $
=% &
new' *
Uri+ .
(. /
builder/ 6
.6 7
HostEnvironment7 F
.F G
BaseAddressG R
)R S
) 
; 
builder 
. 
Services 
. 
AddHttpClient 
< !
IVetClinicDataService 4
,4 5 
VetClinicDataService6 J
>J K
( 
client 
=> 
client 
. 
BaseAddress $
=% &
new' *
Uri+ .
(. /
builder/ 6
.6 7
HostEnvironment7 F
.F G
BaseAddressG R
)R S
) 
; 
builder 
. 
Services 
. 
AddHttpClient 
<   
IPetOwnerDataService! 5
,5 6
PetOwnerDataService7 J
>J K
( 
client 
=> 
client 
. 
BaseAddress $
=% &
new' *
Uri+ .
(. /
builder/ 6
.6 7
HostEnvironment7 F
.F G
BaseAddressG R
)R S
) 
; 
builder 
. 
Services 
. 
AddHttpClient 
< #
IAppointmentDataService 6
,6 7"
AppointmentDataService8 N
>N O
( 
client 
=> 
client 
. 
BaseAddress $
=% &
new' *
Uri+ .
(. /
builder/ 6
.6 7
HostEnvironment7 F
.F G
BaseAddressG R
)R S
) 
; 
builder 
. 
Services 
. 
	AddScoped 
( 
sp 
=>  
new! $

HttpClient% /
{0 1
BaseAddress2 =
=> ?
new@ C
UriD G
(G H
builderH O
.O P
HostEnvironmentP _
._ `
BaseAddress` k
)k l
}m n
)n o
;o p
await 
builder 
. 
Build 
( 
) 
. 
RunAsync 
( 
)  
;  !