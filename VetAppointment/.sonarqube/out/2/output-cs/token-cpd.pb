Ï7
AD:\10.12.2022\VetAppointment\VetAppointment.Domain\Appointment.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
Appointment 
{ 
public 
Guid 
Id 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public		 
Guid		 
VetId		 
{		 
get		 
;		  
private		! (
set		) ,
;		, -
}		. /
public

 
Guid

 
PetId

 
{

 
get

 
;

  
private

! (
set

) ,
;

, -
}

. /
public 
DateTime 
ScheduledDate %
{& '
get( +
;+ ,
private- 4
set5 8
;8 9
}: ;
public 
int &
EstimatedDurationInMinutes -
{. /
get0 3
;3 4
private5 <
set= @
;@ A
}B C
public 
Guid 
TreatmentId 
{  !
get" %
;% &
private' .
set/ 2
;2 3
}4 5
public 
Guid 
MedicalHistoryId $
{% &
get' *
;* +
private, 3
set4 7
;7 8
}9 :
public 
static 
Result 
< 
Appointment (
>( )
SettleAppointment* ;
(; <
Vet< ?
vet@ C
,C D
PetE H
petI L
,L M
stringN T

dateStringU _
,_ `
inta d
duratione m
)m n
{ 	
Guid 
vetId 
= 
vet 
. 
Id 
;  
Guid 
petId 
= 
pet 
. 
Id 
;  
if 
( 
duration 
<= 
$num 
) 
{ 
return 
Result 
< 
Appointment )
>) *
.* +
Failure+ 2
(2 3
$"3 5
$str5 S
"S T
)T U
;U V
} 
if 
( 
! 
DateTime 
. 
TryParse "
(" #

dateString# -
,- .
out/ 2
DateTime3 ;
date< @
)@ A
)A B
{ 
return 
Result 
< 
Appointment )
>) *
.* +
Failure+ 2
(2 3
$"3 5
$str5 I
{I J

dateStringJ T
}T U
$strU V
"V W
)W X
;X Y
} 
if 
( 
date 
< 
DateTime 
.  
Now  #
)# $
{ 
return   
Result   
<   
Appointment   )
>  ) *
.  * +
Failure  + 2
(  2 3
$"  3 5
$str  5 O
"  O P
)  P Q
;  Q R
}!! 
var## 
appointment## 
=## 
new## !
Appointment##" -
{$$ 
Id%% 
=%% 
Guid%% 
.%% 
NewGuid%% !
(%%! "
)%%" #
,%%# $
VetId&& 
=&& 
vetId&& 
,&& 
PetId'' 
='' 
petId'' 
,'' 
ScheduledDate(( 
=(( 
date((  $
,(($ %&
EstimatedDurationInMinutes)) *
=))+ ,
duration))- 5
,))5 6
}** 
;** 
return,, 
Result,, 
<,, 
Appointment,, %
>,,% &
.,,& '
Success,,' .
(,,. /
appointment,,/ :
),,: ;
;,,; <
}-- 	
public// 
void// (
AttachTreatmentToAppointment// 0
(//0 1
	Treatment//1 :
	treatment//; D
)//D E
{00 	
TreatmentId11 
=11 
	treatment11 #
.11# $
Id11$ &
;11& '
}22 	
public44 
void44 -
!AttachAppointmentToMedicalHistory44 5
(445 6
MedicalHistory446 D
history44E L
)44L M
{55 	
MedicalHistoryId66 
=66 
history66 &
.66& '
Id66' )
;66) *
}77 	
public99 
Result99 
Update99 
(99 
Guid99 !
vetId99" '
,99' (
Guid99) -
petId99. 3
,993 4
string995 ;
scheduledDateString99< O
,99O P
int99Q T&
estimatedDurationInMinutes99U o
,99o p
Guid:: 
treatmentId:: 
,:: 
Guid:: "
medicalHistoryId::# 3
)::3 4
{;; 	
if<< 
(<< &
estimatedDurationInMinutes<< *
<=<<+ -
$num<<. /
)<</ 0
{== 
return>> 
Result>> 
.>> 
Failure>> %
(>>% &
$">>& (
$str>>( F
">>F G
)>>G H
;>>H I
}?? 
ifAA 
(AA 
!AA 
DateTimeAA 
.AA 
TryParseAA "
(AA" #
scheduledDateStringAA# 6
,AA6 7
outAA8 ;
DateTimeAA< D
scheduledDateAAE R
)AAR S
)AAS T
{BB 
returnCC 
ResultCC 
.CC 
FailureCC %
(CC% &
$"CC& (
$strCC( <
{CC< =
scheduledDateStringCC= P
}CCP Q
$strCCQ R
"CCR S
)CCS T
;CCT U
}DD 
ifFF 
(FF 
scheduledDateFF 
<FF 
DateTimeFF  (
.FF( )
NowFF) ,
)FF, -
{GG 
returnHH 
ResultHH 
.HH 
FailureHH %
(HH% &
$"HH& (
$strHH( B
"HHB C
)HHC D
;HHD E
}II 
VetIdKK 
=KK 
vetIdKK 
;KK 
PetIdLL 
=LL 
petIdLL 
;LL 
ScheduledDateMM 
=MM 
scheduledDateMM )
;MM) *&
EstimatedDurationInMinutesNN &
=NN' (&
estimatedDurationInMinutesNN) C
;NNC D
TreatmentIdOO 
=OO 
treatmentIdOO %
;OO% &
MedicalHistoryIdPP 
=PP 
medicalHistoryIdPP /
;PP/ 0
returnRR 
ResultRR 
.RR 
SuccessRR !
(RR! "
)RR" #
;RR# $
}SS 	
}TT 
}UU ”$
AD:\10.12.2022\VetAppointment\VetAppointment.Domain\ClinicOwner.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
ClinicOwner 
: 
Person %
{ 
public		 
string		 
Email		 
{		 
get		 !
;		! "
private		# *
set		+ .
;		. /
}		0 1
public

 
string

 
Phone

 
{

 
get

 !
;

! "
private

# *
set

+ .
;

. /
}

0 1
public 
static 
Result 
< 
ClinicOwner (
>( )
Create* 0
(0 1
string1 7
name8 <
,< =
string> D
surnameE L
,L M
stringN T
	birthdateU ^
,^ _
string` f
genderg m
,m n
stringo u
emailv {
,{ |
string	} É
phone
Ñ â
)
â ä
{ 	
if 
( 
! 
Validations 
. 
IsValidEmail )
() *
email* /
)/ 0
)0 1
{ 
return 
Result 
< 
ClinicOwner )
>) *
.* +
Failure+ 2
(2 3
$"3 5
$str5 ;
{; <
email< A
}A B
$strB O
"O P
)P Q
;Q R
} 
if 
( 
! 
Validations 
. 
IsValidPhoneNumber /
(/ 0
phone0 5
)5 6
)6 7
{ 
return 
Result 
< 
ClinicOwner )
>) *
.* +
Failure+ 2
(2 3
$"3 5
$str5 B
{B C
phoneC H
}H I
$strI V
"V W
)W X
;X Y
} 
if 
( 
! 
DateTime 
. 
TryParse "
(" #
	birthdate# ,
,, -
out. 1
DateTime2 :
date; ?
)? @
)@ A
{ 
return 
Result 
< 
ClinicOwner )
>) *
.* +
Failure+ 2
(2 3
$"3 5
$str5 I
{I J
	birthdateJ S
}S T
$strT U
"U V
)V W
;W X
} 
if 
( 
! 
Enum 
. 
TryParse 
< 
PersonGender +
>+ ,
(, -
gender- 3
,3 4
out5 8
PersonGender9 E
personGenderF R
)R S
)S T
{ 
var  
expectedGenderValues (
=) *
Enum+ /
./ 0
GetNames0 8
(8 9
typeof9 ?
(? @
PersonGender@ L
)L M
)M N
;N O
var   $
textExpectedGenderValues   ,
=  - .
string  / 5
.  5 6
Join  6 :
(  : ;
$str  ; ?
,  ? @ 
expectedGenderValues  A U
)  U V
;  V W
return!! 
Result!! 
<!! 
ClinicOwner!! )
>!!) *
.!!* +
Failure!!+ 2
(!!2 3
$"!!3 5
$str!!5 I
{!!I J
gender!!J P
}!!P Q
$str!!Q x
{!!x y%
textExpectedGenderValues	!!y ë
}
!!ë í
"
!!í ì
)
!!ì î
;
!!î ï
}"" 
var$$ 
clinicOwner$$ 
=$$ 
new$$ !
ClinicOwner$$" -
{%% 
Name&& 
=&& 
name&& 
,&& 
Surname'' 
='' 
surname'' !
,''! "
	Birthdate(( 
=(( 
date((  
,((  !
Gender)) 
=)) 
personGender)) %
,))% &
Email** 
=** 
email** 
,** 
Phone++ 
=++ 
phone++ 
,++ 
},, 
;,, 
return.. 
Result.. 
<.. 
ClinicOwner.. %
>..% &
...& '
Success..' .
(... /
clinicOwner../ :
)..: ;
;..; <
}// 	
}00 
}11 ø"
:D:\10.12.2022\VetAppointment\VetAppointment.Domain\Drug.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
Drug 
{ 
public 
Guid 
Id 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public 
string 
Name 
{ 
get  
;  !
private" )
set* -
;- .
}/ 0
public		 
double		 
Quantity		 
{		  
get		! $
;		$ %
private		& -
set		. 1
;		1 2
}		3 4
public

 
double

 
	UnitPrice

 
{

  !
get

" %
;

% &
private

' .
set

/ 2
;

2 3
}

4 5
public 
static 
Result 
< 
Drug !
>! "
Create# )
() *
string* 0
name1 5
,5 6
double7 =
quantity> F
,F G
doubleH N
	unitPriceO X
)X Y
{ 	
if 
( 
quantity 
< 
$num 
) 
{ 
return 
Result 
< 
Drug "
>" #
.# $
Failure$ +
(+ ,
$", .
$str. 7
{7 8
quantity8 @
}@ A
$strA N
"N O
)O P
;P Q
} 
if 
( 
	unitPrice 
< 
$num 
) 
{ 
return 
Result 
< 
Drug "
>" #
.# $
Failure$ +
(+ ,
$", .
$str. 9
{9 :
	unitPrice: C
}C D
$strD Q
"Q R
)R S
;S T
} 
var 
drug 
= 
new 
Drug 
{ 
Name 
= 
name 
, 
Quantity 
= 
quantity #
,# $
	UnitPrice 
= 
	unitPrice %
} 
; 
return 
Result 
< 
Drug 
> 
.  
Success  '
(' (
drug( ,
), -
;- .
} 	
public!! 
Result!! 
Update!! 
(!! 
string!! #
name!!$ (
,!!( )
double!!* 0
quantity!!1 9
,!!9 :
double!!; A
price!!B G
)!!G H
{"" 	
if## 
(## 
string## 
.## 
IsNullOrEmpty## $
(##$ %
name##% )
)##) *
)##* +
{$$ 
return%% 
Result%% 
.%% 
Failure%% %
(%%% &
$str%%& F
)%%F G
;%%G H
}&& 
if(( 
((( 
quantity(( 
<(( 
$num(( 
)(( 
{)) 
return** 
Result** 
.** 
Failure** %
(**% &
$"**& (
$str**( 5
{**5 6
quantity**6 >
}**> ?
$str**? L
"**L M
)**M N
;**N O
}++ 
if-- 
(-- 
price-- 
<-- 
$num-- 
)-- 
{.. 
return// 
Result// 
.// 
Failure// %
(//% &
$"//& (
$str//( 2
{//2 3
price//3 8
}//8 9
$str//9 F
"//F G
)//G H
;//H I
}00 
this22 
.22 
Name22 
=22 
name22 
;22 
this33 
.33 
Quantity33 
=33 
quantity33 $
;33$ %
this44 
.44 
	UnitPrice44 
=44 
price44 "
;44" #
return66 
Result66 
.66 
Success66 !
(66! "
)66" #
;66# $
}77 	
}88 
}99 Ø
HD:\10.12.2022\VetAppointment\VetAppointment.Domain\Enums\AnimalGender.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Enums  %
{ 
public 

enum 
AnimalGender 
{ 
Male 
= 
$num 
, 
Female 
= 
$num 
} 
} º
FD:\10.12.2022\VetAppointment\VetAppointment.Domain\Enums\AnimalRace.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Enums  %
{ 
public 

enum 

AnimalRace 
{ 
Dog 
= 
$num 
, 
Cat 
= 
$num 
, 
Bird 
= 
$num 
, 
Fish 
= 
$num 
, 
Rabbit		 
=		 
$num		 
,		 
Hamster

 
=

 
$num

 
,

 
Reptile 
= 
$num 
, 
Other 
= 
$num 
} 
} Ú
HD:\10.12.2022\VetAppointment\VetAppointment.Domain\Enums\PersonGender.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Enums  %
{ 
public 

enum 
PersonGender 
{ 
Male 
= 
$num 
, 
Female 
= 
$num 
, 
Other 
= 
$num 
} 
}		 ’
MD:\10.12.2022\VetAppointment\VetAppointment.Domain\Enums\VetSpecialisation.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Enums  %
{ 
public 

enum 
VetSpecialisation !
{ 

PawSurgeon 
= 
$num 
, 
DentalCaretaker 
= 
$num 
, 
Nutritionist 
= 
$num 
, 
Other 
= 
$num 
}		 
}

 –
DD:\10.12.2022\VetAppointment\VetAppointment.Domain\Helpers\Result.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Helpers  '
{ 
public 

class 
Result 
{ 
public 
string 
Error 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 
bool 
	IsSuccess 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public 
bool 
	IsFailure 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public

 
static

 
Result

 
Success

 $
(

$ %
)

% &
=>

' )
new

* -
(

- .
)

. /
{

0 1
	IsSuccess

2 ;
=

< =
true

> B
}

C D
;

D E
public 
static 
Result 
Failure $
($ %
string% +
error, 1
)1 2
=>3 5
new6 9
(9 :
): ;
{< =
	IsFailure> G
=H I
trueJ N
,N O
ErrorP U
=V W
errorX ]
}^ _
;_ `
} 
} ê
LD:\10.12.2022\VetAppointment\VetAppointment.Domain\Helpers\ResultOfEntity.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Helpers  '
{ 
public 

class 
Result 
< 
TEntity 
>  
{ 
public 
TEntity 
Entity 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public 
string 
Error 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 
bool 
	IsSuccess 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public		 
bool		 
	IsFailure		 
{		 
get		  #
;		# $
private		% ,
set		- 0
;		0 1
}		2 3
public 
static 
Result 
< 
TEntity $
>$ %
Success& -
(- .
TEntity. 5
entity6 <
)< =
=>> @
newA D
(D E
)E F
{G H
EntityI O
=P Q
entityR X
,X Y
	IsSuccessZ c
=d e
truef j
}k l
;l m
public 
static 
Result 
< 
TEntity $
>$ %
Failure& -
(- .
string. 4
error5 :
): ;
=>< >
new? B
(B C
)C D
{E F
	IsFailureG P
=Q R
trueS W
,W X
ErrorY ^
=_ `
errora f
}g h
;h i
} 
} ≈
ID:\10.12.2022\VetAppointment\VetAppointment.Domain\Helpers\Validations.cs
	namespace 	
VetAppointment
 
. 
Domain 
.  
Helpers  '
{ 
public 

static 
class 
Validations #
{ 
public 
static 
bool 
IsValidEmail '
(' (
string( .
email/ 4
)4 5
{ 	
if 
( 
email 
== 
null 
) 
{ 
return		 
false		 
;		 
}

 
email 
= 
email 
. 
Trim 
( 
)  
;  !
if 
( 
email 
. 
Length 
== 
$num  !
)! "
{ 
return 
false 
; 
} 
if 
( 
email 
. 
EndsWith 
( 
$str "
)" #
)# $
{ 
return 
false 
; 
} 
try 
{ 
var 
addr 
= 
new 
System %
.% &
Net& )
.) *
Mail* .
.. /
MailAddress/ :
(: ;
email; @
)@ A
;A B
return 
addr 
. 
Address #
==$ &
email' ,
;, -
} 
catch 
{ 
return 
false 
; 
}   
}!! 	
public## 
static## 
bool## 
IsValidPhoneNumber## -
(##- .
string##. 4
phoneNumber##5 @
)##@ A
{$$ 	
if%% 
(%% 
phoneNumber%% 
==%% 
null%% #
)%%# $
{&& 
return'' 
false'' 
;'' 
}(( 
phoneNumber** 
=** 
phoneNumber** %
.**% &
Trim**& *
(*** +
)**+ ,
;**, -
if,, 
(,, 
phoneNumber,, 
.,, 

StartsWith,, &
(,,& '
$str,,' *
),,* +
),,+ ,
{-- 
phoneNumber.. 
=.. 
phoneNumber.. )
[..) *
$num..* +
....+ -
]..- .
;... /
return// 
phoneNumber// "
.//" #
Length//# )
==//* ,
$num//- /
&&//0 2
phoneNumber//3 >
.//> ?
All//? B
(//B C
char//C G
.//G H
IsDigit//H O
)//O P
&&//Q S
phoneNumber//T _
.//_ `

StartsWith//` j
(//j k
$str//k o
)//o p
;//p q
}00 
return22 
false22 
;22 
}33 	
}44 
}55 Û
DD:\10.12.2022\VetAppointment\VetAppointment.Domain\MedicalHistory.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
MedicalHistory 
{ 
public 
Guid 
Id 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public		 
List		 
<		 
Appointment		 
>		  
Appointments		! -
{		. /
get		0 3
;		3 4
private		5 <
set		= @
;		@ A
}		B C
public

 
Guid

 
ClinicId

 
{

 
get

 "
;

" #
private

$ +
set

, /
;

/ 0
}

1 2
public 
static 
Result 
< 
MedicalHistory +
>+ ,
Create- 3
(3 4
)4 5
{ 	
var 
medicalHistory 
=  
new! $
MedicalHistory% 3
{ 
Id 
= 
Guid 
. 
NewGuid !
(! "
)" #
,# $
Appointments 
= 
new "
List# '
<' (
Appointment( 3
>3 4
(4 5
)5 6
,6 7
} 
; 
return 
Result 
< 
MedicalHistory (
>( )
.) *
Success* 1
(1 2
medicalHistory2 @
)@ A
;A B
} 	
public 
Result (
RegisterAppointmentToHistory 2
(2 3
Appointment3 >
appointment? J
)J K
{ 	
if 
( 
appointment 
== 
null #
)# $
{ 
return 
Result 
. 
Failure %
(% &
$str& B
)B C
;C D
} 
appointment 
. -
!AttachAppointmentToMedicalHistory 9
(9 :
this: >
)> ?
;? @
Appointments 
. 
Add 
( 
appointment (
)( )
;) *
return!! 
Result!! 
.!! 
Success!! !
(!!! "
)!!" #
;!!# $
}"" 	
public$$ 
void$$ 
AtachToClinic$$ !
($$! "
Guid$$" &
clinicId$$' /
)$$/ 0
{%% 	
this&& 
.&& 
ClinicId&& 
=&& 
clinicId&& $
;&&$ %
}'' 	
public)) 
Result)) (
RemoveAppointmentFromHistory)) 2
())2 3
Appointment))3 >
appointment))? J
)))J K
{** 	
if++ 
(++ 
appointment++ 
==++ 
null++ #
)++# $
{,, 
return-- 
Result-- 
.-- 
Failure-- %
(--% &
$str--& B
)--B C
;--C D
}.. 
Appointments00 
.00 
Remove00 
(00  
appointment00  +
)00+ ,
;00, -
return22 
Result22 
.22 
Success22 !
(22! "
)22" #
;22# $
}33 	
}44 
}55 È
<D:\10.12.2022\VetAppointment\VetAppointment.Domain\Person.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

abstract 
class 
Person  
{ 
public 
string 
Name 
{ 
get  
;  !
	protected" +
set, /
;/ 0
}1 2
public		 
string		 
Surname		 
{		 
get		  #
;		# $
	protected		% .
set		/ 2
;		2 3
}		4 5
public

 
DateTime

 
	Birthdate

 !
{

" #
get

$ '
;

' (
	protected

) 2
set

3 6
;

6 7
}

8 9
public 
PersonGender 
Gender "
{# $
get% (
;( )
	protected* 3
set4 7
;7 8
}9 :
} 
} ÇJ
9D:\10.12.2022\VetAppointment\VetAppointment.Domain\Pet.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
Pet 
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
private		 %
set		& )
;		) *
}		+ ,
public

 
string

 
Name

 
{

 
get

  
;

  !
private

" )
set

* -
;

- .
}

/ 0
public 
DateTime 
	Birthdate !
{" #
get$ '
;' (
private) 0
set1 4
;4 5
}6 7
public 

AnimalRace 
Race 
{  
get! $
;$ %
private& -
set. 1
;1 2
}3 4
public 
AnimalGender 
Gender "
{# $
get% (
;( )
private* 1
set2 5
;5 6
}7 8
public 
Guid 
OwnerId 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 
Guid 
ClinicId 
{ 
get "
;" #
private$ +
set, /
;/ 0
}1 2
public 
static 
Result 
< 
Pet  
>  !
Create" (
(( )
string) /
name0 4
,4 5
string6 <
	birthdate= F
,F G
stringH N
raceO S
,S T
stringU [
gender\ b
)b c
{ 	
if 
( 
! 
Enum 
. 
TryParse 
< 

AnimalRace (
>( )
() *
race* .
,. /
out0 3
var4 7

animalRace8 B
)B C
)C D
{ 
var 
expectedRaceValues &
=' (
Enum) -
.- .
GetNames. 6
(6 7
typeof7 =
(= >

AnimalRace> H
)H I
)I J
;J K
var "
textExpectedRaceValues *
=+ ,
string- 3
.3 4
Join4 8
(8 9
$str9 =
,= >
expectedRaceValues? Q
)Q R
;R S
return 
Result 
< 
Pet !
>! "
." #
Failure# *
(* +
$"+ -
$str- ?
{? @
race@ D
}D E
$strE j
{j k#
textExpectedRaceValues	k Å
}
Å Ç
"
Ç É
)
É Ñ
;
Ñ Ö
} 
if 
( 
! 
Enum 
. 
TryParse 
< 
AnimalGender +
>+ ,
(, -
gender- 3
,3 4
out5 8
var9 <
animalGender= I
)I J
)J K
{ 
var  
expectedGenderValues (
=) *
Enum+ /
./ 0
GetNames0 8
(8 9
typeof9 ?
(? @
AnimalGender@ L
)L M
)M N
;N O
var $
textExpectedGenderValues ,
=- .
string/ 5
.5 6
Join6 :
(: ;
$str; ?
,? @ 
expectedGenderValuesA U
)U V
;V W
return 
Result 
< 
Pet !
>! "
." #
Failure# *
(* +
$"+ -
$str- A
{A B
genderB H
}H I
$strI n
{n o%
textExpectedGenderValues	o á
}
á à
"
à â
)
â ä
;
ä ã
} 
if!! 
(!! 
!!! 
DateTime!! 
.!! 
TryParse!! "
(!!" #
	birthdate!!# ,
,!!, -
out!!. 1
DateTime!!2 :
date!!; ?
)!!? @
)!!@ A
{"" 
return## 
Result## 
<## 
Pet## !
>##! "
.##" #
Failure### *
(##* +
$"##+ -
$str##- A
{##A B
	birthdate##B K
}##K L
$str##L M
"##M N
)##N O
;##O P
}$$ 
var&& 
pet&& 
=&& 
new&& 
Pet&& 
{'' 
Id(( 
=(( 
Guid(( 
.(( 
NewGuid(( !
(((! "
)((" #
,((# $
Name)) 
=)) 
name)) 
,)) 
	Birthdate** 
=** 
date**  
,**  !
Race++ 
=++ 

animalRace++ !
,++! "
Gender,, 
=,, 
animalGender,, %
}-- 
;-- 
return// 
Result// 
<// 
Pet// 
>// 
.// 
Success// &
(//& '
pet//' *
)//* +
;//+ ,
}00 	
public22 
void22 
RegisterPetToClinic22 '
(22' (
	VetClinic22( 1
clinic222 8
)228 9
{33 	
ClinicId44 
=44 
clinic44 
.44 
Id44  
;44  !
}55 	
public77 
void77 
ConnectToOwner77 "
(77" #
PetOwner77# +
petOwner77, 4
)774 5
{88 	
OwnerId99 
=99 
petOwner99 
.99 
Id99 !
;99! "
}:: 	
public<< 
Result<< 
Update<< 
(<< 
string<< #
name<<$ (
,<<( )
string<<* 0
	birthdate<<1 :
,<<: ;
string<<< B
race<<C G
,<<G H
string<<I O
gender<<P V
)<<V W
{== 	
if>> 
(>> 
!>> 
Enum>> 
.>> 
TryParse>> 
<>> 

AnimalRace>> )
>>>) *
(>>* +
race>>+ /
,>>/ 0
out>>1 4
var>>5 8

animalRace>>9 C
)>>C D
)>>D E
{?? 
var@@ 
expectedRaceValues@@ &
=@@' (
Enum@@) -
.@@- .
GetNames@@. 6
(@@6 7
typeof@@7 =
(@@= >

AnimalRace@@> H
)@@H I
)@@I J
;@@J K
varAA "
textExpectedRaceValuesAA *
=AA+ ,
stringAA- 3
.AA3 4
JoinAA4 8
(AA8 9
$strAA9 =
,AA= >
expectedRaceValuesAA? Q
)AAQ R
;AAR S
returnBB 
ResultBB 
.BB 
FailureBB %
(BB% &
$"BB& (
$strBB( :
{BB: ;
raceBB; ?
}BB? @
$strBB@ e
{BBe f"
textExpectedRaceValuesBBf |
}BB| }
"BB} ~
)BB~ 
;	BB Ä
}CC 
ifEE 
(EE 
!EE 
EnumEE 
.EE 
TryParseEE 
<EE 
AnimalGenderEE +
>EE+ ,
(EE, -
genderEE- 3
,EE3 4
outEE5 8
varEE9 <
animalGenderEE= I
)EEI J
)EEJ K
{FF 
varGG  
expectedGenderValuesGG (
=GG) *
EnumGG+ /
.GG/ 0
GetNamesGG0 8
(GG8 9
typeofGG9 ?
(GG? @
AnimalGenderGG@ L
)GGL M
)GGM N
;GGN O
varHH $
textExpectedGenderValuesHH ,
=HH- .
stringHH/ 5
.HH5 6
JoinHH6 :
(HH: ;
$strHH; ?
,HH? @ 
expectedGenderValuesHHA U
)HHU V
;HHV W
returnII 
ResultII 
.II 
FailureII %
(II% &
$"II& (
$strII( <
{II< =
genderII= C
}IIC D
$strIID i
{IIi j%
textExpectedGenderValues	IIj Ç
}
IIÇ É
"
IIÉ Ñ
)
IIÑ Ö
;
IIÖ Ü
}JJ 
ifLL 
(LL 
!LL 
DateTimeLL 
.LL 
TryParseLL "
(LL" #
	birthdateLL# ,
,LL, -
outLL. 1
DateTimeLL2 :
dateLL; ?
)LL? @
)LL@ A
{MM 
returnNN 
ResultNN 
.NN 
FailureNN %
(NN% &
$"NN& (
$strNN( <
{NN< =
	birthdateNN= F
}NNF G
$strNNG H
"NNH I
)NNI J
;NNJ K
}OO 
NameQQ 
=QQ 
nameQQ 
;QQ 
	BirthdateRR 
=RR 
dateRR 
;RR 
RaceSS 
=SS 

animalRaceSS 
;SS 
GenderTT 
=TT 
animalGenderTT !
;TT! "
returnVV 
ResultVV 
.VV 
SuccessVV !
(VV! "
)VV" #
;VV# $
}WW 	
}XX 
}YY ¯3
>D:\10.12.2022\VetAppointment\VetAppointment.Domain\PetOwner.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
PetOwner 
: 
Person "
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
private		 %
set		& )
;		) *
}		+ ,
public

 
string

 
Address

 
{

 
get

  #
;

# $
private

% ,
set

- 0
;

0 1
}

2 3
public 
string 
Email 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 
string 
Phone 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 
List 
< 
Pet 
> 
Pets 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public 
static 
Result 
< 
PetOwner %
>% &
Create' -
(- .
string. 4
name5 9
,9 :
string; A
surnameB I
,I J
stringK Q
	birthdateR [
,[ \
string] c
genderd j
,j k
stringl r
addresss z
,z {
string 
email 
, 
string  
phone! &
)& '
{ 	
if 
( 
! 
Validations 
. 
IsValidEmail )
() *
email* /
)/ 0
)0 1
{ 
return 
Result 
< 
PetOwner &
>& '
.' (
Failure( /
(/ 0
$"0 2
$str2 8
{8 9
email9 >
}> ?
$str? L
"L M
)M N
;N O
} 
if 
( 
! 
Validations 
. 
IsValidPhoneNumber /
(/ 0
phone0 5
)5 6
)6 7
{ 
return 
Result 
< 
PetOwner &
>& '
.' (
Failure( /
(/ 0
$"0 2
$str2 ?
{? @
phone@ E
}E F
$strF S
"S T
)T U
;U V
} 
if 
( 
! 
DateTime 
. 
TryParse "
(" #
	birthdate# ,
,, -
out. 1
DateTime2 :
date; ?
)? @
)@ A
{ 
return 
Result 
< 
PetOwner &
>& '
.' (
Failure( /
(/ 0
$"0 2
$str2 F
{F G
	birthdateG P
}P Q
$strQ R
"R S
)S T
;T U
} 
if!! 
(!! 
!!! 
Enum!! 
.!! 
TryParse!! 
<!! 
PersonGender!! +
>!!+ ,
(!!, -
gender!!- 3
,!!3 4
out!!5 8
var!!9 <
personGender!!= I
)!!I J
)!!J K
{"" 
var##  
expectedGenderValues## (
=##) *
Enum##+ /
.##/ 0
GetNames##0 8
(##8 9
typeof##9 ?
(##? @
PersonGender##@ L
)##L M
)##M N
;##N O
var$$ $
textExpectedGenderValues$$ ,
=$$- .
string$$/ 5
.$$5 6
Join$$6 :
($$: ;
$str$$; ?
,$$? @ 
expectedGenderValues$$A U
)$$U V
;$$V W
return%% 
Result%% 
<%% 
PetOwner%% &
>%%& '
.%%' (
Failure%%( /
(%%/ 0
$"%%0 2
$str%%2 F
{%%F G
gender%%G M
}%%M N
$str%%N s
{%%s t%
textExpectedGenderValues	%%t å
}
%%å ç
"
%%ç é
)
%%é è
;
%%è ê
}&& 
var(( 
owner(( 
=(( 
new(( 
PetOwner(( $
{)) 
Id** 
=** 
Guid** 
.** 
NewGuid** !
(**! "
)**" #
,**# $
Name++ 
=++ 
name++ 
,++ 
Surname,, 
=,, 
surname,, !
,,,! "
	Birthdate-- 
=-- 
date--  
,--  !
Gender.. 
=.. 
personGender.. %
,..% &
Address// 
=// 
address// !
,//! "
Email00 
=00 
email00 
,00 
Phone11 
=11 
phone11 
,11 
Pets22 
=22 
new22 
List22 
<22  
Pet22  #
>22# $
(22$ %
)22% &
}33 
;33 
return55 
Result55 
<55 
PetOwner55 "
>55" #
.55# $
Success55$ +
(55+ ,
owner55, 1
)551 2
;552 3
}66 	
public88 
Result88 
RegisterPetsToOwner88 )
(88) *
List88* .
<88. /
Pet88/ 2
>882 3
pets884 8
)888 9
{99 	
if:: 
(:: 
!:: 
pets:: 
.:: 
Any:: 
(:: 
):: 
):: 
{;; 
return<< 
Result<< 
.<< 
Failure<< %
(<<% &
$str<<& M
)<<M N
;<<N O
}== 
pets?? 
.?? 
ForEach?? 
(?? 
pet?? 
=>?? 
{@@ 
petAA 
.AA 
ConnectToOwnerAA "
(AA" #
thisAA# '
)AA' (
;AA( )
PetsBB 
.BB 
AddBB 
(BB 
petBB 
)BB 
;BB 
}CC 
)CC 
;CC 
returnEE 
ResultEE 
.EE 
SuccessEE !
(EE! "
)EE" #
;EE# $
}FF 	
}GG 
}HH Ï%
DD:\10.12.2022\VetAppointment\VetAppointment.Domain\PrescribedDrug.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
PrescribedDrug 
{ 
public 
Guid 
Id 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public		 
double		 
Quantity		 
{		  
get		! $
;		$ %
private		& -
set		. 1
;		1 2
}		3 4
public

 
Guid

 
DrugToPrescribeId

 %
{

& '
get

( +
;

+ ,
private

- 4
set

5 8
;

8 9
}

: ;
public 
double 
	TotalCost 
{  !
get" %
;% &
private' .
set/ 2
;2 3
}4 5
public 
static 
Result 
< 
PrescribedDrug +
>+ ,
Create- 3
(3 4
double4 :
quantity; C
,C D
DrugE I
drugToPrescribeJ Y
)Y Z
{ 	
if 
( 
quantity 
< 
$num 
) 
{ 
return 
Result 
< 
PrescribedDrug ,
>, -
.- .
Failure. 5
(5 6
$"6 8
$str8 A
{A B
quantityB J
}J K
$strK k
"k l
)l m
;m n
} 
if 
( 
quantity 
> 
drugToPrescribe *
.* +
Quantity+ 3
)3 4
{ 
return 
Result 
< 
PrescribedDrug ,
>, -
.- .
Failure. 5
(5 6
$"6 8
$str8 A
{A B
quantityB J
}J K
$strK u
"u v
)v w
;w x
} 
var 
prescribedDrug 
=  
new! $
PrescribedDrug% 3
{ 
Id 
= 
Guid 
. 
NewGuid !
(! "
)" #
,# $
Quantity 
= 
quantity #
,# $
DrugToPrescribeId !
=" #
drugToPrescribe$ 3
.3 4
Id4 6
,6 7
	TotalCost 
= 
CalculateDrugCost -
(- .
quantity. 6
,6 7
drugToPrescribe8 G
.G H
	UnitPriceH Q
)Q R
} 
; 
return!! 
Result!! 
<!! 
PrescribedDrug!! (
>!!( )
.!!) *
Success!!* 1
(!!1 2
prescribedDrug!!2 @
)!!@ A
;!!A B
}"" 	
private## 
static## 
double## 
CalculateDrugCost## /
(##/ 0
double##0 6
quantity##7 ?
,##? @
double##A G
price##H M
)##M N
{$$ 	
return%% 
quantity%% 
*%% 
price%% #
;%%# $
}&& 	
public'' 
Result'' 
Update'' 
('' 
double'' #
quantity''$ ,
,'', -
Drug''. 2
drugToPrescribe''3 B
)''B C
{(( 	
if)) 
()) 
quantity)) 
<)) 
$num)) 
))) 
{** 
return++ 
Result++ 
.++ 
Failure++ %
(++% &
$"++& (
$str++( 1
{++1 2
quantity++2 :
}++: ;
$str++; [
"++[ \
)++\ ]
;++] ^
},, 
if.. 
(.. 
quantity.. 
>.. 
drugToPrescribe.. *
...* +
Quantity..+ 3
)..3 4
{// 
return00 
Result00 
.00 
Failure00 %
(00% &
$"00& (
$str00( 1
{001 2
quantity002 :
}00: ;
$str00; e
"00e f
)00f g
;00g h
}11 
Quantity33 
=33 
quantity33 
;33  
	TotalCost44 
=44 
CalculateDrugCost44 )
(44) *
quantity44* 2
,442 3
drugToPrescribe444 C
.44C D
	UnitPrice44D M
)44M N
;44N O
return66 
Result66 
.66 
Success66 !
(66! "
)66" #
;66# $
}77 	
}88 
}99 ¬+
?D:\10.12.2022\VetAppointment\VetAppointment.Domain\Treatment.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
	Treatment 
{ 
public 
Guid 
Id 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public		 
string		 
Description		 !
{		" #
get		$ '
;		' (
private		) 0
set		1 4
;		4 5
}		6 7
public

 
List

 
<

 
PrescribedDrug

 "
>

" #
PrescribedDrugs

$ 3
{

4 5
get

6 9
;

9 :
private

; B
set

C F
;

F G
}

H I
public 
static 
Result 
< 
	Treatment &
>& '
Create( .
(. /
string/ 5
description6 A
)A B
{ 	
if 
( 
string 
. 
IsNullOrWhiteSpace )
() *
description* 5
)5 6
)6 7
{ 
return 
Result 
< 
	Treatment '
>' (
.( )
Failure) 0
(0 1
$"1 3
$str3 ?
{? @
description@ K
}K L
$strL f
"f g
)g h
;h i
} 
var 
	treatment 
= 
new 
	Treatment  )
{ 
Id 
= 
Guid 
. 
NewGuid !
(! "
)" #
,# $
Description 
= 
description )
,) *
PrescribedDrugs 
=  !
new" %
List& *
<* +
PrescribedDrug+ 9
>9 :
(: ;
); <
} 
; 
return 
Result 
< 
	Treatment #
># $
.$ %
Success% ,
(, -
	treatment- 6
)6 7
;7 8
} 	
public 
double %
CalculatePriceOfTreatment /
(/ 0
)0 1
{ 	
double 

totalPrice 
= 
$num  !
;! "
foreach   
(   
var   
drug   
in    
PrescribedDrugs  ! 0
)  0 1
{!! 

totalPrice"" 
+="" 
drug"" "
.""" #
	TotalCost""# ,
;"", -
}## 
return$$ 

totalPrice$$ 
;$$ 
}%% 	
public'' 
Result'' "
AppendDrugsToTreatment'' ,
('', -
List''- 1
<''1 2
PrescribedDrug''2 @
>''@ A
drugs''B G
)''G H
{(( 	
if)) 
()) 
!)) 
drugs)) 
.)) 
Any)) 
()) 
))) 
))) 
{** 
return++ 
Result++ 
.++ 
Failure++ %
(++% &
$str++& Q
)++Q R
;++R S
},, 
drugs.. 
... 
ForEach.. 
(.. 
drug.. 
=>.. !
PrescribedDrugs.." 1
...1 2
Add..2 5
(..5 6
drug..6 :
)..: ;
)..; <
;..< =
return00 
Result00 
.00 
Success00 !
(00! "
)00" #
;00# $
}11 	
public33 
Result33 #
RemoveDrugFromTreatment33 -
(33- .
PrescribedDrug33. <
prescribedDrug33= K
)33K L
{44 	
var55 
result55 
=55 
PrescribedDrugs55 (
.55( )
Remove55) /
(55/ 0
prescribedDrug550 >
)55> ?
;55? @
if77 
(77 
!77 
result77 
)77 
{88 
return99 
Result99 
.99 
Failure99 %
(99% &
$str99& 1
)991 2
;992 3
}:: 
return<< 
Result<< 
.<< 
Success<< !
(<<! "
)<<" #
;<<# $
}== 	
public?? 
Result?? 
UpdateDescription?? '
(??' (
string??( .
description??/ :
)??: ;
{@@ 	
ifAA 
(AA 
descriptionAA 
==AA 
nullAA #
)AA# $
{BB 
returnCC 
ResultCC 
.CC 
FailureCC %
(CC% &
$strCC& C
)CCC D
;CCD E
}DD 
ifFF 
(FF 
thisFF 
.FF 
DescriptionFF  
.FF  !
EqualsFF! '
(FF' (
descriptionFF( 3
)FF3 4
)FF4 5
{GG 
returnHH 
ResultHH 
.HH 
FailureHH %
(HH% &
$strHH& 4
)HH4 5
;HH5 6
}II 
thisKK 
.KK 
DescriptionKK 
=KK 
descriptionKK *
;KK* +
returnLL 
ResultLL 
.LL 
SuccessLL !
(LL! "
)LL" #
;LL# $
}MM 	
}NN 
}OO ™[
9D:\10.12.2022\VetAppointment\VetAppointment.Domain\Vet.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
Vet 
: 
Person 
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
private		 %
set		& )
;		) *
}		+ ,
public

 
string

 
Email

 
{

 
get

 !
;

! "
private

# *
set

+ .
;

. /
}

0 1
public 
string 
Phone 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 
Guid 
ClinicId 
{ 
get "
;" #
private$ +
set, /
;/ 0
}1 2
public 
VetSpecialisation  
Specialisation! /
{0 1
get2 5
;5 6
private7 >
set? B
;B C
}D E
public 
static 
Result 
< 
Vet  
>  !
Create" (
(( )
string) /
name0 4
,4 5
string6 <
surname= D
,D E
stringF L
	birthdateM V
,V W
string 
gender 
, 
string !
email" '
,' (
string) /
phone0 5
,5 6
string7 =
specialisation> L
)L M
{ 	
if 
( 
! 
Validations 
. 
IsValidEmail )
() *
email* /
)/ 0
)0 1
{ 
return 
Result 
< 
Vet !
>! "
." #
Failure# *
(* +
$"+ -
$str- 3
{3 4
email4 9
}9 :
$str: G
"G H
)H I
;I J
} 
if 
( 
! 
Validations 
. 
IsValidPhoneNumber /
(/ 0
phone0 5
)5 6
)6 7
{ 
return 
Result 
< 
Vet !
>! "
." #
Failure# *
(* +
$"+ -
$str- :
{: ;
phone; @
}@ A
$strA N
"N O
)O P
;P Q
} 
if 
( 
! 
DateTime 
. 
TryParse "
(" #
	birthdate# ,
,, -
out. 1
DateTime2 :
date; ?
)? @
)@ A
{ 
return 
Result 
< 
Vet !
>! "
." #
Failure# *
(* +
$"+ -
$str- A
{A B
	birthdateB K
}K L
$strL M
"M N
)N O
;O P
}   
if"" 
("" 
!"" 
Enum"" 
."" 
TryParse"" 
<"" 
PersonGender"" +
>""+ ,
("", -
gender""- 3
,""3 4
out""5 8
var""9 <
personGender""= I
)""I J
)""J K
{## 
var$$  
expectedGenderValues$$ (
=$$) *
Enum$$+ /
.$$/ 0
GetNames$$0 8
($$8 9
typeof$$9 ?
($$? @
PersonGender$$@ L
)$$L M
)$$M N
;$$N O
var%% $
textExpectedGenderValues%% ,
=%%- .
string%%/ 5
.%%5 6
Join%%6 :
(%%: ;
$str%%; ?
,%%? @ 
expectedGenderValues%%A U
)%%U V
;%%V W
return&& 
Result&& 
<&& 
Vet&& !
>&&! "
.&&" #
Failure&&# *
(&&* +
$"&&+ -
$str&&- A
{&&A B
gender&&B H
}&&H I
$str&&I n
{&&n o%
textExpectedGenderValues	&&o á
}
&&á à
"
&&à â
)
&&â ä
;
&&ä ã
}'' 
if(( 
((( 
!(( 
Enum(( 
.(( 
TryParse(( 
<(( 
VetSpecialisation(( 0
>((0 1
(((1 2
specialisation((2 @
,((@ A
out((B E
var((F I
vetSpecialisation((J [
)(([ \
)((\ ]
{)) 
var** !
expectedProfileValues** )
=*** +
Enum**, 0
.**0 1
GetNames**1 9
(**9 :
typeof**: @
(**@ A
VetSpecialisation**A R
)**R S
)**S T
;**T U
var++ %
textExpectedProfileValues++ -
=++. /
string++0 6
.++6 7
Join++7 ;
(++; <
$str++< @
,++@ A!
expectedProfileValues++B W
)++W X
;++X Y
return,, 
Result,, 
<,, 
Vet,, !
>,,! "
.,," #
Failure,,# *
(,,* +
$",,+ -
$str,,- I
{,,I J
specialisation,,J X
},,X Y
$str	,,Y à
{
,,à â'
textExpectedProfileValues
,,â ¢
}
,,¢ £
"
,,£ §
)
,,§ •
;
,,• ¶
}-- 
var00 
vet00 
=00 
new00 
Vet00 
{11 
Id22 
=22 
Guid22 
.22 
NewGuid22 !
(22! "
)22" #
,22# $
Name33 
=33 
name33 
,33 
Surname44 
=44 
surname44 !
,44! "
	Birthdate55 
=55 
date55  
,55  !
Gender66 
=66 
personGender66 %
,66% &
Email77 
=77 
email77 
,77 
Phone88 
=88 
phone88 
,88 
Specialisation99 
=99  
vetSpecialisation99! 2
}:: 
;:: 
return<< 
Result<< 
<<< 
Vet<< 
><< 
.<< 
Success<< &
(<<& '
vet<<' *
)<<* +
;<<+ ,
}== 	
public?? 
void?? 
RegisterVetToClinic?? '
(??' (
	VetClinic??( 1
clinic??2 8
)??8 9
{@@ 	
ClinicIdAA 
=AA 
clinicAA 
.AA 
IdAA  
;AA  !
}BB 	
publicDD 
ResultDD 
UpdateDD 
(DD 
stringDD #
nameDD$ (
,DD( )
stringDD* 0
surnameDD1 8
,DD8 9
stringDD: @
	birthdateDDA J
,DDJ K
stringDDL R
genderDDS Y
,DDY Z
stringDD[ a
emailDDb g
,DDg h
stringDDi o
phoneDDp u
,DDu v
stringEE 
specialisationEE !
)EE! "
{FF 	
ifHH 
(HH 
!HH 
ValidationsHH 
.HH 
IsValidEmailHH )
(HH) *
emailHH* /
)HH/ 0
)HH0 1
{II 
returnJJ 
ResultJJ 
.JJ 
FailureJJ %
(JJ% &
$"JJ& (
$strJJ( .
{JJ. /
emailJJ/ 4
}JJ4 5
$strJJ5 B
"JJB C
)JJC D
;JJD E
}KK 
ifMM 
(MM 
!MM 
ValidationsMM 
.MM 
IsValidPhoneNumberMM /
(MM/ 0
phoneMM0 5
)MM5 6
)MM6 7
{NN 
returnOO 
ResultOO 
.OO 
FailureOO %
(OO% &
$"OO& (
$strOO( 5
{OO5 6
phoneOO6 ;
}OO; <
$strOO< I
"OOI J
)OOJ K
;OOK L
}PP 
ifRR 
(RR 
!RR 
DateTimeRR 
.RR 
TryParseRR "
(RR" #
	birthdateRR# ,
,RR, -
outRR. 1
DateTimeRR2 :
dateRR; ?
)RR? @
)RR@ A
{SS 
returnTT 
ResultTT 
.TT 
FailureTT %
(TT% &
$"TT& (
$strTT( <
{TT< =
	birthdateTT= F
}TTF G
$strTTG H
"TTH I
)TTI J
;TTJ K
}UU 
ifWW 
(WW 
!WW 
EnumWW 
.WW 
TryParseWW 
<WW 
PersonGenderWW +
>WW+ ,
(WW, -
genderWW- 3
,WW3 4
outWW5 8
varWW9 <
personGenderWW= I
)WWI J
)WWJ K
{XX 
varYY  
expectedGenderValuesYY (
=YY) *
EnumYY+ /
.YY/ 0
GetNamesYY0 8
(YY8 9
typeofYY9 ?
(YY? @
PersonGenderYY@ L
)YYL M
)YYM N
;YYN O
varZZ $
textExpectedGenderValuesZZ ,
=ZZ- .
stringZZ/ 5
.ZZ5 6
JoinZZ6 :
(ZZ: ;
$strZZ; ?
,ZZ? @ 
expectedGenderValuesZZA U
)ZZU V
;ZZV W
return[[ 
Result[[ 
.[[ 
Failure[[ %
([[% &
$"[[& (
$str[[( <
{[[< =
gender[[= C
}[[C D
$str[[D i
{[[i j%
textExpectedGenderValues	[[j Ç
}
[[Ç É
"
[[É Ñ
)
[[Ñ Ö
;
[[Ö Ü
}\\ 
if^^ 
(^^ 
!^^ 
Enum^^ 
.^^ 
TryParse^^ 
<^^ 
VetSpecialisation^^ 0
>^^0 1
(^^1 2
specialisation^^2 @
,^^@ A
out^^B E
var^^F I
vetSpecialisation^^J [
)^^[ \
)^^\ ]
{__ 
var`` !
expectedProfileValues`` )
=``* +
Enum``, 0
.``0 1
GetNames``1 9
(``9 :
typeof``: @
(``@ A
VetSpecialisation``A R
)``R S
)``S T
;``T U
varaa %
textExpectedProfileValuesaa -
=aa. /
stringaa0 6
.aa6 7
Joinaa7 ;
(aa; <
$straa< @
,aa@ A!
expectedProfileValuesaaB W
)aaW X
;aaX Y
returnbb 
Resultbb 
.bb 
Failurebb %
(bb% &
$"bb& (
$strbb( D
{bbD E
specialisationbbE S
}bbS T
$str	bbT É
{
bbÉ Ñ'
textExpectedProfileValues
bbÑ ù
}
bbù û
"
bbû ü
)
bbü †
;
bb† °
}cc 
Nameee 
=ee 
nameee 
;ee 
Surnameff 
=ff 
surnameff 
;ff 
	Birthdategg 
=gg 
dategg 
;gg 
Genderhh 
=hh 
personGenderhh !
;hh! "
Emailii 
=ii 
emailii 
;ii 
Phonejj 
=jj 
phonejj 
;jj 
Specialisationkk 
=kk 
vetSpecialisationkk .
;kk. /
returnmm 
Resultmm 
.mm 
Successmm !
(mm! "
)mm" #
;mm# $
}nn 	
}oo 
}pp ¨]
?D:\10.12.2022\VetAppointment\VetAppointment.Domain\VetClinic.cs
	namespace 	
VetAppointment
 
. 
Domain 
{ 
public 

class 
	VetClinic 
{ 
public 
Guid 
Id 
{ 
get 
; 
private %
set& )
;) *
}+ ,
public		 
string		 
Name		 
{		 
get		  
;		  !
private		" )
set		* -
;		- .
}		/ 0
public

 
string

 
Address

 
{

 
get

  #
;

# $
private

% ,
set

- 0
;

0 1
}

2 3
public 
int 
NumberOfPlaces !
{" #
get$ '
;' (
private) 0
set1 4
;4 5
}6 7
public 
string 
ContactEmail "
{# $
get% (
;( )
private* 1
set2 5
;5 6
}7 8
public 
string 
ContactPhone "
{# $
get% (
;( )
private* 1
set2 5
;5 6
}7 8
public 
DateTime 
RegistrationDate (
{) *
get+ .
;. /
private0 7
set8 ;
;; <
}= >
public 
List 
< 
Pet 
> 
Pets 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public 
List 
< 
Vet 
> 
Vets 
{ 
get  #
;# $
private% ,
set- 0
;0 1
}2 3
public 
Guid 
MedicalHistoryId $
{% &
get' *
;* +
private, 3
set4 7
;7 8
}9 :
public 
ClinicOwner 
Owner  
{! "
get# &
;& '
private( /
set0 3
;3 4
}5 6
public 
static 
Result 
< 
	VetClinic &
>& '
Create( .
(. /
string/ 5
name6 :
,: ;
string< B
addressC J
,J K
intL O
numberOfPlacesP ^
,^ _
string` f
contactEmailg s
,s t
string 
contactPhone 
)  
{ 	
var !
minimumNumberOfPlaces %
=& '
$num( )
;) *
if 
( 
numberOfPlaces 
<= !
$num" #
)# $
{ 
return 
Result 
< 
	VetClinic '
>' (
.( )
Failure) 0
(0 1
$"1 3
$str3 A
"A B
+C D
$" 
$str F
"F G
+H I
$" 
$str 
{ !
minimumNumberOfPlaces -
}- .
$str. /
"/ 0
)0 1
;1 2
} 
if 
( 
! 
Validations 
. 
IsValidEmail )
() *
contactEmail* 6
)6 7
)7 8
{   
return!! 
Result!! 
<!! 
	VetClinic!! '
>!!' (
.!!( )
Failure!!) 0
(!!0 1
$"!!1 3
$str!!3 9
{!!9 :
contactEmail!!: F
}!!F G
$str!!G T
"!!T U
)!!U V
;!!V W
}"" 
if$$ 
($$ 
!$$ 
Validations$$ 
.$$ 
IsValidPhoneNumber$$ /
($$/ 0
contactPhone$$0 <
)$$< =
)$$= >
{%% 
return&& 
Result&& 
<&& 
	VetClinic&& '
>&&' (
.&&( )
Failure&&) 0
(&&0 1
$"&&1 3
$str&&3 @
{&&@ A
contactPhone&&A M
}&&M N
$str&&N [
"&&[ \
)&&\ ]
;&&] ^
}'' 
var)) 
	vetClinic)) 
=)) 
new)) 
	VetClinic))  )
{** 
Id++ 
=++ 
Guid++ 
.++ 
NewGuid++ !
(++! "
)++" #
,++# $
Name,, 
=,, 
name,, 
,,, 
Address-- 
=-- 
address-- !
,--! "
ContactEmail.. 
=.. 
contactEmail.. +
,..+ ,
ContactPhone// 
=// 
contactPhone// +
,//+ ,
RegistrationDate00  
=00! "
DateTime00# +
.00+ ,
Now00, /
,00/ 0
NumberOfPlaces11 
=11  
numberOfPlaces11! /
,11/ 0
Pets22 
=22 
new22 
List22 
<22  
Pet22  #
>22# $
(22$ %
)22% &
,22& '
Vets33 
=33 
new33 
List33 
<33  
Vet33  #
>33# $
(33$ %
)33% &
,33& '
}44 
;44 
return66 
Result66 
<66 
	VetClinic66 #
>66# $
.66$ %
Success66% ,
(66, -
	vetClinic66- 6
)666 7
;667 8
}77 	
public99 
void99  
AttachMedicalHistory99 (
(99( )
Guid99) -
medicalHistoryId99. >
)99> ?
{:: 	
MedicalHistoryId;; 
=;; 
medicalHistoryId;; /
;;;/ 0
}<< 	
public>> 
Result>> &
RegisterPetsFamilyToClinic>> 0
(>>0 1
List>>1 5
<>>5 6
Pet>>6 9
>>>9 :
pets>>; ?
)>>? @
{?? 	
if@@ 
(@@ 
!@@ 
pets@@ 
.@@ 
Any@@ 
(@@ 
)@@ 
)@@ 
{AA 
returnBB 
ResultBB 
.BB 
FailureBB %
(BB% &
$strBB& M
)BBM N
;BBN O
}CC 
ifEE 
(EE 
petsEE 
.EE 
CountEE 
>EE &
GetAvailableNumberOfPlacesEE 7
(EE7 8
)EE8 9
)EE9 :
{FF 
returnGG 
ResultGG 
.GG 
FailureGG %
(GG% &
$"GG& (
$strGG( E
{GGE F
petsGGF J
.GGJ K
CountGGK P
}GGP Q
$strGGQ S
"GGS T
+GGU V
$"HH 
$strHH =
{HH= >&
GetAvailableNumberOfPlacesHH> X
(HHX Y
)HHY Z
}HHZ [
$strHH[ \
"HH\ ]
)HH] ^
;HH^ _
}II 
petsKK 
.KK 
ForEachKK 
(KK 
petKK 
=>KK 
{LL 
petMM 
.MM 
RegisterPetToClinicMM '
(MM' (
thisMM( ,
)MM, -
;MM- .
PetsNN 
.NN 
AddNN 
(NN 
petNN 
)NN 
;NN 
}OO 
)OO 
;OO 
returnQQ 
ResultQQ 
.QQ 
SuccessQQ !
(QQ! "
)QQ" #
;QQ# $
}RR 	
publicTT 
ResultTT 
RegisterVetToClinicTT )
(TT) *
VetTT* -
vetTT. 1
)TT1 2
{UU 	
vetVV 
.VV 
RegisterVetToClinicVV #
(VV# $
thisVV$ (
)VV( )
;VV) *
VetsWW 
.WW 
AddWW 
(WW 
vetWW 
)WW 
;WW 
returnYY 
ResultYY 
.YY 
SuccessYY !
(YY! "
)YY" #
;YY# $
}ZZ 	
public\\ 
void\\ 
ConnectToOwner\\ "
(\\" #
ClinicOwner\\# .
owner\\/ 4
)\\4 5
=>\\6 8
Owner\\9 >
=\\? @
owner\\A F
;\\F G
public^^ 
int^^ &
GetAvailableNumberOfPlaces^^ -
(^^- .
)^^. /
=>^^0 2
NumberOfPlaces^^3 A
-^^B C
Pets^^D H
.^^H I
Count^^I N
;^^N O
public`` 
Result`` 
<`` 
	VetClinic`` 
>``  
Update``! '
(``' (
string``( .
name``/ 3
,``3 4
string``5 ;
address``< C
,``C D
int``E H
numberOfPlaces``I W
,``W X
string``Y _
contactEmail``` l
,``l m
string``n t
contactPhone	``u Å
)
``Å Ç
{aa 	
ifbb 
(bb 
namebb 
!=bb 
$strbb 
&&bb 
namebb "
!=bb# %
nullbb& *
)bb* +
{cc 
thisdd 
.dd 
Namedd 
=dd 
namedd  
;dd  !
}ee 
ifgg 
(gg 
addressgg 
!=gg 
$strgg 
&&gg  
addressgg! (
!=gg) +
nullgg, 0
)gg0 1
{hh 
thisii 
.ii 
Addressii 
=ii 
addressii &
;ii& '
}jj 
ifll 
(ll 
numberOfPlacesll 
<=ll  "
$numll# $
)ll$ %
{mm 
returnnn 
Resultnn 
<nn 
	VetClinicnn '
>nn' (
.nn( )
Failurenn) 0
(nn0 1
$"nn1 3
$strnn3 A
"nnA B
+nnC D
$"oo 
$stroo F
"ooF G
+ooH I
$"pp 
$strpp 
{pp 
$numpp 
}pp 
$strpp 
"pp 
)pp 
;pp 
}qq 
thisrr 
.rr 
NumberOfPlacesrr 
=rr  !
numberOfPlacesrr" 0
;rr0 1
iftt 
(tt 
!tt 
Validationstt 
.tt 
IsValidEmailtt )
(tt) *
contactEmailtt* 6
)tt6 7
)tt7 8
{uu 
returnvv 
Resultvv 
<vv 
	VetClinicvv '
>vv' (
.vv( )
Failurevv) 0
(vv0 1
$"vv1 3
$strvv3 9
{vv9 :
contactEmailvv: F
}vvF G
$strvvG T
"vvT U
)vvU V
;vvV W
}ww 
thisxx 
.xx 
ContactEmailxx 
=xx 
contactEmailxx  ,
;xx, -
ifzz 
(zz 
!zz 
Validationszz 
.zz 
IsValidPhoneNumberzz /
(zz/ 0
contactPhonezz0 <
)zz< =
)zz= >
{{{ 
return|| 
Result|| 
<|| 
	VetClinic|| '
>||' (
.||( )
Failure||) 0
(||0 1
$"||1 3
$str||3 @
{||@ A
contactPhone||A M
}||M N
$str||N [
"||[ \
)||\ ]
;||] ^
}}} 
this~~ 
.~~ 
ContactPhone~~ 
=~~ 
contactPhone~~  ,
;~~, -
return
ÅÅ 
Result
ÅÅ 
<
ÅÅ 
	VetClinic
ÅÅ #
>
ÅÅ# $
.
ÅÅ$ %
Success
ÅÅ% ,
(
ÅÅ, -
this
ÅÅ- 1
)
ÅÅ1 2
;
ÅÅ2 3
}
ÇÇ 	
}
ÉÉ 
}ÑÑ 