<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>D:\Facultate\Anul_3\.NET\VetAppointment_S12\VetAppointment - APIs + Tests\VetAppointment - Working\VetAppointment.Domain\MedicalHistory.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using VetAppointment.Domain.Helpers;

namespace VetAppointment.Domain
{
    #nullable disable
    public class MedicalHistory
    {
        public Guid Id { get; private set; }
        public List&lt;Appointment&gt; Appointments { get; private set; }
        public Guid ClinicId { get; private set; }

        public static Result&lt;MedicalHistory&gt; Create()
        {
            var medicalHistory = new MedicalHistory
            {
                Id = Guid.NewGuid(),
                Appointments = new List&lt;Appointment&gt;(),
            };

            return Result&lt;MedicalHistory&gt;.Success(medicalHistory);
        }
        
        public Result RegisterAppointmentToHistory(Appointment appointment)
        {
            if (appointment == null)
            {
                return Result.Failure(&quot;Appointment does not exist&quot;);
            }

            appointment.AttachAppointmentToMedicalHistory(this);
            Appointments.Add(appointment);

            return Result.Success();
        }

        public void AtachToClinic(Guid clinicId)
        {
            this.ClinicId = clinicId;
        }

        public Result RemoveAppointmentFromHistory(Appointment appointment)
        {
            if (appointment == null)
            {
                return Result.Failure(&quot;Appointment does not exist&quot;);
            }

            Appointments.Remove(appointment);

            return Result.Success();
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[8,26,8,30,1],[8,31,8,43,1],[9,49,9,53,1],[9,54,9,66,1],[10,32,10,36,1],[10,37,10,49,1],[13,9,13,10,1],[14,13,18,15,1],[20,13,20,67,1],[21,9,21,10,1],[24,9,24,10,1],[25,13,25,37,1],[26,13,26,14,1],[27,17,27,69,1],[30,13,30,65,1],[31,13,31,43,1],[33,13,33,37,1],[34,9,34,10,1],[37,9,37,10,1],[38,13,38,38,1],[39,9,39,10,1],[42,9,42,10,1],[43,13,43,37,1],[44,13,44,14,1],[45,17,45,69,1],[48,13,48,46,1],[50,13,50,37,1],[51,9,51,10,1]]);
    </script>
  </body>
</html>